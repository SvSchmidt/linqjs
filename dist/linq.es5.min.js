/*!
 * linqjs v0.0.0
 * (c) Sven Schmidt 
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
"use strict";function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(){var window=this||(0,eval)("this"),DEBUG=!0;!function(a){try{"function"==typeof define&&define.amd?define(["require","exports"],function(){return a}):exports&&module&&module.exports&&(exports=module.exports=a)}catch(b){window.Collection=a}}(function(){function from(a){return new Collection(a)}function Range(a,b){return __assertNumberBetween(b,0,1/0),new Collection(regeneratorRuntime.mark(function c(){var d;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=a;case 1:if(d==b+a){c.next=6;break}return c.next=4,d++;case 4:c.next=1;break;case 6:case"end":return c.stop()}},c,this)}))}function Repeat(a,b){return __assertNumberBetween(b,0,1/0),new Collection(regeneratorRuntime.mark(function c(){var d;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=0;case 1:if(!(d<b)){c.next=7;break}return c.next=4,a;case 4:d++,c.next=1;break;case 7:case"end":return c.stop()}},c,this)}))}function defaultEqualityCompareFn(a,b){return toJSON(a)===toJSON(b)}function DefaultComparator(a,b){return a<b?-1:b<a?1:0}function __assert(a){if(!a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(1===c.length)throw new Error(msg);if(2===c.length)throw new(Function.prototype.bind.apply(AssertionError,[null].concat(c)))}}function __assertFunction(a){__assert(isFunction(a),"function",a)}function __assertArray(a){__assert(isArray(a),"array",a)}function __assertNotEmpty(a){__assert(!isEmpty(a),"Sequence is empty!")}function __assertIterable(a){__assert(isIterable(a),"iterable",a)}function __assertCollection(a){__assert(isCollection(a),"collection",a)}function __assertString(a){__assert(isString(a),"string",a)}function __assertNumeric(a){__assert(isNumeric(a),"numeric value",a)}function __assertNumberBetween(a,b){var c=arguments.length<=2||void 0===arguments[2]?1/0:arguments[2];__assertNumeric(a),__assert(a>=b&&a<=c,"Number must be between "+b+" and "+c+"!")}function __assertIndexInRange(a,b){__assertCollection(a),__assert(isNumeric(b),"number",b),__assert(b>=0&&b<a.Count(),"Index is out of bounds")}function isArray(a){return a instanceof[].constructor}function isFunction(a){return"function"==typeof a}function isNumeric(a){return!isNaN(parseFloat(a))}function isEmpty(a){return isCollection(a)?isEmpty(a.Take(1).ToArray()):0===a.length}function isIterable(a){return Symbol.iterator in Object(a)}function isString(a){return"string"==typeof a}function isCollection(a){return a instanceof Collection}function isGenerator(a){return a instanceof regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},a,this)}).constructor}function isUndefined(a){return"undefined"===("undefined"==typeof a?"undefined":_typeof(a))}function toJSON(a){return JSON.stringify(a)}function __assign(a,b){return Object.assign(Object(a),b),a}function __export(a){__assign(linqjsExports,a)}function paramOrValue(a,b){return"undefined"==typeof a?b:a}function aggregateCollection(a,b,c,d){return __assertFunction(c),__assertFunction(d),__assertNotEmpty(a),d([b].concat(a).reduce(c))}function removeDuplicates(a){var b=arguments.length<=1||void 0===arguments[1]?defaultEqualityCompareFn:arguments[1];__assertIterable(a),__assertFunction(b);var c=[];return new Collection(regeneratorRuntime.mark(function d(){var e,f,g,h,i,j,k,l,m,n,o,p,q;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=a.getIterator(),f=!0,g=!1,h=void 0,d.prev=4,i=e[Symbol.iterator]();case 6:if(f=(j=i.next()).done){d.next=40;break}k=j.value,l=!0,m=!1,n=void 0,d.prev=11,o=c[Symbol.iterator]();case 13:if(l=(p=o.next()).done){d.next=20;break}if(q=p.value,!b(k,q)){d.next=17;break}return d.abrupt("continue",37);case 17:l=!0,d.next=13;break;case 20:d.next=26;break;case 22:d.prev=22,d.t0=d.catch(11),m=!0,n=d.t0;case 26:d.prev=26,d.prev=27,!l&&o.return&&o.return();case 29:if(d.prev=29,!m){d.next=32;break}throw n;case 32:return d.finish(29);case 33:return d.finish(26);case 34:return c.push(k),d.next=37,k;case 37:f=!0,d.next=6;break;case 40:d.next=46;break;case 42:d.prev=42,d.t1=d.catch(4),g=!0,h=d.t1;case 46:d.prev=46,d.prev=47,!f&&i.return&&i.return();case 49:if(d.prev=49,!g){d.next=52;break}throw h;case 52:return d.finish(49);case 53:return d.finish(46);case 54:case"end":return d.stop()}},d,this,[[4,42,46,54],[11,22,26,34],[27,,29,33],[47,,49,53]])}))}function removeFromArray(a,b){__assertArray(a);for(var c=[],d=!1,e=void 0;(e=a.shift())&&!(d=defaultEqualityCompareFn(e,b));)c.push(e);return a.unshift.apply(a,c),d}function isNative(a){return/native code/.test(Object(a).toString())||!!~nativeConstructors.indexOf(a)}function getDefault(){var a=arguments.length<=0||void 0===arguments[0]?Object:arguments[0];if(a&&isNative(a)&&"function"==typeof a){var b=a();return b instanceof Object||a===Date?null:b}return a}function getParameterCount(a){return __assertFunction(a),a.length}function Min(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0];return __assertFunction(a),__assertNotEmpty(this),Math.min.apply(null,this.Select(a).ToArray())}function Max(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0];return __assertFunction(a),__assertNotEmpty(this),Math.max.apply(null,this.Select(a).ToArray())}function Sum(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0];return __assertNotEmpty(this),this.Select(a).Aggregate(0,function(a,b){return a+b})}function Average(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0];return __assertNotEmpty(this),this.Sum(a)/this.Count()}function Concat(a){__assertIterable(a);var b=this.getIterator();return new Collection(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield(b,"t0",1);case 1:return c.delegateYield(a,"t1",2);case 2:case"end":return c.stop()}},c,this)}))}function Union(a){var b=arguments.length<=1||void 0===arguments[1]?defaultEqualityCompareFn:arguments[1];return __assertIterable(a),this.Concat(a).Distinct(b)}function Join(a,b,c,d,e){__assertIterable(a),__assertFunction(b),__assertFunction(c),__assertFunction(d),e=paramOrValue(e,defaultEqualityCompareFn),__assertFunction(e);var f=this.getIterator();return new Collection(regeneratorRuntime.mark(function g(){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:h=a[Symbol.iterator](),i=!0,j=!1,k=void 0,g.prev=4,l=f[Symbol.iterator]();case 6:if(i=(m=l.next()).done){g.next=40;break}n=m.value,o=b(n),p=!0,q=!1,r=void 0,g.prev=12,s=h[Symbol.iterator]();case 14:if(p=(t=s.next()).done){g.next=23;break}if(u=t.value,v=c(u),!e(o,v)){g.next=20;break}return g.next=20,d(n,u);case 20:p=!0,g.next=14;break;case 23:g.next=29;break;case 25:g.prev=25,g.t0=g.catch(12),q=!0,r=g.t0;case 29:g.prev=29,g.prev=30,!p&&s.return&&s.return();case 32:if(g.prev=32,!q){g.next=35;break}throw r;case 35:return g.finish(32);case 36:return g.finish(29);case 37:i=!0,g.next=6;break;case 40:g.next=46;break;case 42:g.prev=42,g.t1=g.catch(4),j=!0,k=g.t1;case 46:g.prev=46,g.prev=47,!i&&l.return&&l.return();case 49:if(g.prev=49,!j){g.next=52;break}throw k;case 52:return g.finish(49);case 53:return g.finish(46);case 54:case"end":return g.stop()}},g,this,[[4,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])}))}function Except(a){__assertIterable(a),isCollection(a)||(a=new Collection(a));var b=this.getIterator();return new Collection(regeneratorRuntime.mark(function c(){var d,e,f,g,h,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=!0,e=!1,f=void 0,c.prev=3,g=b[Symbol.iterator]();case 5:if(d=(h=g.next()).done){c.next=13;break}if(i=h.value,a.Contains(i)){c.next=10;break}return c.next=10,i;case 10:d=!0,c.next=5;break;case 13:c.next=19;break;case 15:c.prev=15,c.t0=c.catch(3),e=!0,f=c.t0;case 19:c.prev=19,c.prev=20,!d&&g.return&&g.return();case 22:if(c.prev=22,!e){c.next=25;break}throw f;case 25:return c.finish(22);case 26:return c.finish(19);case 27:case"end":return c.stop()}},c,this,[[3,15,19,27],[20,,22,26]])}))}function Zip(a,b){__assertIterable(a),__assertFunction(b);var c=this.getIterator();return new Collection(regeneratorRuntime.mark(function d(){var e,f,g,h,i,j,k,l;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=a[Symbol.iterator](),f=!0,g=!1,h=void 0,d.prev=4,i=c[Symbol.iterator]();case 6:if(f=(j=i.next()).done){d.next=16;break}if(k=j.value,l=e.next(),!l.done){d.next=11;break}return d.abrupt("break",16);case 11:return d.next=13,b(k,l.value);case 13:f=!0,d.next=6;break;case 16:d.next=22;break;case 18:d.prev=18,d.t0=d.catch(4),g=!0,h=d.t0;case 22:d.prev=22,d.prev=23,!f&&i.return&&i.return();case 25:if(d.prev=25,!g){d.next=28;break}throw h;case 28:return d.finish(25);case 29:return d.finish(22);case 30:case"end":return d.stop()}},d,this,[[4,18,22,30],[23,,25,29]])}))}function Intersect(a){var b=arguments.length<=1||void 0===arguments[1]?defaultEqualityCompareFn:arguments[1];__assertIterable(a),__assertFunction(b);var c=this.ToArray();return new Collection(regeneratorRuntime.mark(function d(){var e,f,g,h,i,j,k,l=this;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=[].concat(_toConsumableArray(a)),f=!0,g=!1,h=void 0,d.prev=4,i=regeneratorRuntime.mark(function a(){var c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=k.value,!e.Any(function(a){return b(c,a)})){a.next=4;break}return a.next=4,c;case 4:case"end":return a.stop()}},a,l)}),j=c[Symbol.iterator]();case 7:if(f=(k=j.next()).done){d.next=12;break}return d.delegateYield(i(),"t0",9);case 9:f=!0,d.next=7;break;case 12:d.next=18;break;case 14:d.prev=14,d.t1=d.catch(4),g=!0,h=d.t1;case 18:d.prev=18,d.prev=19,!f&&j.return&&j.return();case 21:if(d.prev=21,!g){d.next=24;break}throw h;case 24:return d.finish(21);case 25:return d.finish(18);case 26:case"end":return d.stop()}},d,this,[[4,14,18,26],[19,,21,25]])}))}function IndexOf(a){var b=arguments.length<=1||void 0===arguments[1]?defaultEqualityCompareFn:arguments[1];__assertFunction(b);var c=this.getIterator(),d=0,e=!0,f=!1,g=void 0;try{for(var h,i=c[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;if(b(j,a))return d;d++}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return-1}function Contains(a){var b=arguments.length<=1||void 0===arguments[1]?defaultEqualityCompareFn:arguments[1];return!!~this.IndexOf(a,b)}function Where(){var a=arguments.length<=0||void 0===arguments[0]?function(a,b){return!0}:arguments[0];__assertFunction(a);var b=this.getIterator(),c=new Collection(regeneratorRuntime.mark(function c(){var d,e,f,g,h,i,j;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=0,e=!0,f=!1,g=void 0,c.prev=4,h=b[Symbol.iterator]();case 6:if(e=(i=h.next()).done){c.next=15;break}if(j=i.value,!a(j,d)){c.next=11;break}return c.next=11,j;case 11:d++;case 12:e=!0,c.next=6;break;case 15:c.next=21;break;case 17:c.prev=17,c.t0=c.catch(4),f=!0,g=c.t0;case 21:c.prev=21,c.prev=22,!e&&h.return&&h.return();case 24:if(c.prev=24,!f){c.next=27;break}throw g;case 27:return c.finish(24);case 28:return c.finish(21);case 29:case"end":return c.stop()}},c,this,[[4,17,21,29],[22,,24,28]])}));return c}function ConditionalWhere(a,b){return a?this.Where(b):this}function Count(){for(var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0],b=0,c=this.Where(a);!c.next().done;)b++;return b}function Any(a){return!isEmpty(this)&&(!a||!this.Where(a).next().done)}function All(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];return __assertFunction(a),!this.Any(function(b){return!a(b)})}function resultOrDefault(a,b){var c=arguments.length<=2||void 0===arguments[2]?function(a){return!0}:arguments[2],d=arguments.length<=3||void 0===arguments[3]?Object:arguments[3],e=void 0;isNative(c)||!isFunction(c)?(e=function(a){return!0},d=c):e=c,__assertFunction(e);var f=getDefault(d);if(isEmpty(a))return f;var g=b.call(a,e);return g?g:f}function ElementAt(a){__assertIndexInRange(this,a);var b=this.Skip(a).Take(1).ToArray()[0];return this.reset(),b}function Take(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(__assertNumeric(a),a<=0)return Collection.Empty;var b=this.getIterator();return new Collection(regeneratorRuntime.mark(function c(){var d,e,f,g,h,i,j;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=0,e=!0,f=!1,g=void 0,c.prev=4,h=b[Symbol.iterator]();case 6:if(e=(i=h.next()).done){c.next=15;break}return j=i.value,c.next=10,j;case 10:if(++d!==a){c.next=12;break}return c.abrupt("break",15);case 12:e=!0,c.next=6;break;case 15:c.next=21;break;case 17:c.prev=17,c.t0=c.catch(4),f=!0,g=c.t0;case 21:c.prev=21,c.prev=22,!e&&h.return&&h.return();case 24:if(c.prev=24,!f){c.next=27;break}throw g;case 27:return c.finish(24);case 28:return c.finish(21);case 29:case"end":return c.stop()}},c,this,[[4,17,21,29],[22,,24,28]])}))}function Skip(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(__assertNumeric(a),a<=0)return this;var b=this.SkipWhile(function(b,c){return c<a});return this.reset(),b}function TakeWhile(){var a=arguments.length<=0||void 0===arguments[0]?function(a,b){return!0}:arguments[0];__assertFunction(a);var b=this.getIterator(),c=new Collection(regeneratorRuntime.mark(function c(){var d,e,f,g,h,i,j,k;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=0,e=!1,f=!0,g=!1,h=void 0,c.prev=5,i=b[Symbol.iterator]();case 7:if(f=(j=i.next()).done){c.next=17;break}if(k=j.value,e||!a(k,d++)){c.next=13;break}return c.next=12,k;case 12:return c.abrupt("continue",14);case 13:e=!0;case 14:f=!0,c.next=7;break;case 17:c.next=23;break;case 19:c.prev=19,c.t0=c.catch(5),g=!0,h=c.t0;case 23:c.prev=23,c.prev=24,!f&&i.return&&i.return();case 26:if(c.prev=26,!g){c.next=29;break}throw h;case 29:return c.finish(26);case 30:return c.finish(23);case 31:case"end":return c.stop()}},c,this,[[5,19,23,31],[24,,26,30]])}));return this.reset(),c}function TakeUntil(){var a=arguments.length<=0||void 0===arguments[0]?function(a,b){return!1}:arguments[0];return this.TakeWhile(function(b,c){return!a(b,c)})}function SkipWhile(){var a=arguments.length<=0||void 0===arguments[0]?function(a,b){return!0}:arguments[0];__assertFunction(a);var b=this.getIterator();return new Collection(regeneratorRuntime.mark(function c(){var d,e,f,g,h,i,j,k;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=0,e=!1,f=!0,g=!1,h=void 0,c.prev=5,i=b[Symbol.iterator]();case 7:if(f=(j=i.next()).done){c.next=17;break}if(k=j.value,e||!a(k,d++)){c.next=11;break}return c.abrupt("continue",14);case 11:return e=!0,c.next=14,k;case 14:f=!0,c.next=7;break;case 17:c.next=23;break;case 19:c.prev=19,c.t0=c.catch(5),g=!0,h=c.t0;case 23:c.prev=23,c.prev=24,!f&&i.return&&i.return();case 26:if(c.prev=26,!g){c.next=29;break}throw h;case 29:return c.finish(26);case 30:return c.finish(23);case 31:case"end":return c.stop()}},c,this,[[5,19,23,31],[24,,26,30]])}))}function SkipUntil(){var a=arguments.length<=0||void 0===arguments[0]?function(a,b){return!1}:arguments[0];return this.SkipWhile(function(b,c){return!a(b,c)})}function First(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];__assertFunction(a),__assertNotEmpty(this);var b=this.SkipWhile(function(b){return!a(b)}).Take(1).ToArray()[0];return this.reset(),b}function FirstOrDefault(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0],b=arguments.length<=1||void 0===arguments[1]?Object:arguments[1];return resultOrDefault(this,First,a,b)}function Last(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];return __assertFunction(a),__assertNotEmpty(this),this.Reverse().First(a)}function LastOrDefault(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0],b=arguments.length<=1||void 0===arguments[1]?Object:arguments[1];return resultOrDefault(this,Last,a,b)}function Single(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];__assertFunction(a),__assertNotEmpty(this);var b=0,c=void 0,d=!0,e=!1,f=void 0;try{for(var g,h=this.getIterator()[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;if(a(i)){c=i;break}b++}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}if(this.First(function(b){return a(b)&&!defaultEqualityCompareFn(b,c)}))throw new Error("Sequence contains more than one element");return c}function SingleOrDefault(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0],b=arguments.length<=1||void 0===arguments[1]?Object:arguments[1];return resultOrDefault(this,Single,a,b)}function DefaultIfEmpty(a){return isEmpty(this)?[getDefault(a)]:this}function Aggregate(a,b,c){var d=this.ToArray();return"function"!=typeof a||b||c?"function"==typeof a||"function"!=typeof b||c?aggregateCollection(d,a,b,c):aggregateCollection(d,a,b,function(a){return a}):aggregateCollection(d.slice(1,d.length),d.slice(0,1)[0],a,function(a){return a})}function Select(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0],b=this.getIterator();return new Collection(regeneratorRuntime.mark(function c(){var d,e,f,g,h,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=!0,e=!1,f=void 0,c.prev=3,g=b[Symbol.iterator]();case 5:if(d=(h=g.next()).done){c.next=12;break}return i=h.value,c.next=9,a(i);case 9:d=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c.catch(3),e=!0,f=c.t0;case 18:c.prev=18,c.prev=19,!d&&g.return&&g.return();case 21:if(c.prev=21,!e){c.next=24;break}throw f;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}},c,this,[[3,14,18,26],[19,,21,25]])}))}function Flatten(){return this.SelectMany(function(a){return a})}function SelectMany(a){var b=arguments.length<=1||void 0===arguments[1]?function(a,b){return b}:arguments[1];__assertFunction(a),__assertFunction(b);var c=this.getIterator();return new Collection(regeneratorRuntime.mark(function d(){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=0,f=!0,g=!1,h=void 0,d.prev=4,i=c[Symbol.iterator]();case 6:if(f=(j=i.next()).done){d.next=41;break}k=j.value,l=a(k,e),m=l,m=isIterable(l)?l:[l],n=!0,o=!1,p=void 0,d.prev=14,q=m[Symbol.iterator]()[Symbol.iterator]();case 16:if(n=(r=q.next()).done){d.next=23;break}return s=r.value,d.next=20,b(k,s);case 20:n=!0,d.next=16;break;case 23:d.next=29;break;case 25:d.prev=25,d.t0=d.catch(14),o=!0,p=d.t0;case 29:d.prev=29,d.prev=30,!n&&q.return&&q.return();case 32:if(d.prev=32,!o){d.next=35;break}throw p;case 35:return d.finish(32);case 36:return d.finish(29);case 37:e++;case 38:f=!0,d.next=6;break;case 41:d.next=47;break;case 43:d.prev=43,d.t1=d.catch(4),g=!0,h=d.t1;case 47:d.prev=47,d.prev=48,!f&&i.return&&i.return();case 50:if(d.prev=50,!g){d.next=53;break}throw h;case 53:return d.finish(50);case 54:return d.finish(47);case 55:case"end":return d.stop()}},d,this,[[4,43,47,55],[14,25,29,37],[30,,32,36],[48,,50,54]])}))}function Distinct(){var a=arguments.length<=0||void 0===arguments[0]?defaultEqualityCompareFn:arguments[0];return __assertFunction(a),removeDuplicates(this,a)}function ToArray(){return[].concat(_toConsumableArray(this.getIterator()))}function ToDictionary(a,b,c){if(__assertFunction(a),!b&&!c)return this.ToDictionary(a,function(a){return a},defaultEqualityCompareFn);if(!c&&1===getParameterCount(b))return this.ToDictionary(a,b,defaultEqualityCompareFn);if(!c&&2===getParameterCount(b))return this.ToDictionary(a,function(a){return a},b);__assertFunction(c),__assertFunction(b);var d=[],e=new Map,f=this.ToArray(),g=b,h=!0,i=!1,j=void 0;try{for(var k,l=function(){var b=k.value,f=a(b),h=g(b);__assert(null!=f,"Key is not allowed to be null!"),__assert(!d.Any(function(a){return c(a,f)}),"Key '"+f+"' is already in use!"),d.push(f),e.set(f,h)},m=f[Symbol.iterator]();!(h=(k=m.next()).done);h=!0)l()}catch(a){i=!0,j=a}finally{try{!h&&m.return&&m.return()}finally{if(i)throw j}}return e}function ToJSON(){return toJSON(this.ToArray())}function Reverse(){var a=this.ToArray();return new Collection(regeneratorRuntime.mark(function b(){var c;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=a.length-1;case 1:if(!(c>=0)){b.next=7;break}return b.next=4,a[c];case 4:c--,b.next=1;break;case 7:case"end":return b.stop()}},b,this)}))}function ForEach(a){__assertFunction(a);var b=!0,c=!1,d=void 0;try{for(var e,f=this.getIterator()[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;a(g)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}function Add(a){this.Insert(a,this.Count())}function Insert(a,b){__assert(b>=0&&b<=this.Count(),"Index is out of bounds!");var c=this.ToArray();this.iterable=regeneratorRuntime.mark(function d(){return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.delegateYield(c.slice(0,b),"t0",1);case 1:return d.next=3,a;case 3:return d.delegateYield(c.slice(b,c.length),"t1",4);case 4:case"end":return d.stop()}},d,this)})}function Remove(a){var b=this.ToArray(),c=removeFromArray(b,a);return!!c&&(this.iterable=regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(b,"t0",1);case 1:case"end":return a.stop()}},a,this)}),!0)}function GetComparatorFromKeySelector(selector){if(__assertString(selector),""===selector)return Collection.prototype.DefaultComparator;selector.startsWith("[")||selector.startsWith(".")||(selector="."+selector);var result=void 0;return eval("result = function (a, b) { return Collection.prototype.DefaultComparator(a"+selector+", b"+selector+") }"),result}function Order(){return this.OrderBy(DefaultComparator)}function OrderDescending(){return this.OrderByDescending(DefaultComparator)}function OrderBy(a){return isString(a)&&(a=GetComparatorFromKeySelector(a)),__assertFunction(a),new OrderedLinqCollection(this,a,MinHeap)}function OrderByDescending(a){return isString(a)&&(a=GetComparatorFromKeySelector(a)),__assertFunction(a),new OrderedLinqCollection(this,a,MaxHeap)}function Shuffle(){return this.OrderBy(function(){return Math.floor(3*Math.random())-1})}function GroupBy(a){function b(a){var b=2===getParameterCount(a);try{b=b&&a(1,1)&&!a(1,2)}catch(a){b=!1}return b}function c(a,b,c){var d=!0,e=!1,f=void 0;try{for(var g,h=a.keys()[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;if(c(i,b))return i}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return b}function d(a){return g(a,function(a){return a},void 0,defaultEqualityCompareFn)}function e(a,c){var d=void 0,e=void 0;return b(c)?(d=c,e=function(a){return a}):(d=defaultEqualityCompareFn,e=c),f(a,e,d)}function f(a,c,d){var e=void 0,f=void 0,h=void 0;return b(d)?e=d:h=d,2===getParameterCount(c)?h=c:f=c,e||(e=defaultEqualityCompareFn),f||(f=function(a){return a}),g(a,f,h,e)}function g(a,b,d,e){__assertFunction(a),__assertFunction(b),__assert(isUndefined(d)||isFunction(d),"resultSelector must be undefined or function!"),__assertFunction(e);var f=new Map,g=void 0,i=!0,j=!1,k=void 0;try{for(var l,m=h[Symbol.iterator]();!(i=(l=m.next()).done);i=!0){var n=l.value,o=c(f,a(n),e),p=b(n);f.has(o)?f.get(o).push(p):f.set(o,[p])}}catch(a){j=!0,k=a}finally{try{!i&&m.return&&m.return()}finally{if(j)throw k}}return g=d?f.ToArray().Select(function(a){return d.apply(void 0,_toConsumableArray(a))}):f}for(var h=this.ToArray(),i=void 0,j=arguments.length,k=Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];switch(k.length){case 0:i=d;break;case 1:i=e;break;case 2:i=f;break;case 3:i=g;break;default:throw new Error("GroupBy parameter count can not be greater than 4!")}return i.apply(void 0,[a].concat(k))}function SequenceEqual(a){var b=arguments.length<=1||void 0===arguments[1]?defaultEqualityCompareFn:arguments[1];if(!isIterable(a))return!1;var c=this.ToArray();if(a=a.ToArray(),c.length!==a.length)return!1;for(var d=0;d<c.length;d++){var e=c[d],f=a[d];if(!b(e,f))return!1}return!0}var _export,linqjsExports={},Collection=void 0;Collection=function(){function a(a){__assert(isIterable(a)||isGenerator(a),"Parameter must be iterable or generator!"),this.iterable=a}return a.prototype=function(){function a(){return this.started||(this.started=!0,this.iterator=this.getIterator()),this.iterator.next()}function b(){this.started=!1}function c(){var a=this.iterable;return isGenerator(a)?a():regeneratorRuntime.mark(function b(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.delegateYield(a,"t0",1);case 1:case"end":return b.stop()}},b,this)})()}return{next:a,reset:b,getIterator:c}}(),a.prototype[Symbol.iterator]=regeneratorRuntime.mark(function a(){var b;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=void 0;case 1:if(b=this.next(),!b.done){a.next=6;break}return this.reset(),a.abrupt("break",10);case 6:return a.next=8,b.value;case 8:a.next=1;break;case 10:case"end":return a.stop()}},a,this)}),a}(),Object.defineProperty(Collection,"Empty",{get:function(){return Collection.from([])}});var collectionStaticMethods={from:from,From:from,Range:Range,Repeat:Repeat};__assign(Collection,collectionStaticMethods);var AssertionError=function(a){function b(a,c){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"Expected "+a+", got "+c+"!"))}return _inherits(b,a),b}(Error),nativeConstructors=[Object,Number,Boolean,String,Symbol],HeapElement=function(){function a(a,b){this.__index=a,this.__value=b,this.__isHeapElementInstance=!0}return a.CreateHeapElement=function(b,c){return void 0===c||c.__isHeapElementInstance?c:new a(b,c)},a}(),MinHeap=function(){function a(a){var b=arguments.length<=1||void 0===arguments[1]?DefaultComparator:arguments[1];__assertArray(a),__assertFunction(b),this.elements=a,this.comparator=function(a,c){var d=b(a.__value,c.__value);return 0!==d?d:DefaultComparator(a.__index,c.__index)},c(this.elements,this.comparator)}function b(a,c,d){var e=2*(d+1),f=e-1,g=d;if(a[g]=HeapElement.CreateHeapElement(g,a[g]),f<a.length&&(a[f]=HeapElement.CreateHeapElement(f,a[f]),c(a[f],a[g])<0&&(g=f)),e<a.length&&(a[e]=HeapElement.CreateHeapElement(e,a[e]),c(a[e],a[g])<0&&(g=e)),g!==d){var h=a[d];a[d]=a[g],a[g]=h,b(a,c,g)}}function c(a,c){if(0!==a.length)for(var d=Math.floor(a.length/2);d>=0;d--)b(a,c,d)}return a.prototype.hasTopElement=function(){return this.elements.length>0},a.prototype.getTopElement=function(){if(1===this.elements.length)return this.elements.pop().__value;var a=this.elements[0],c=this.elements.pop();return this.elements[0]=c,b(this.elements,this.comparator,0),a.__value},a.prototype[Symbol.iterator]=function(){var a=this;return{next:function(){return a.hasTopElement()?{done:!1,value:a.getTopElement()}:{done:!0}}}},a}(),MaxHeap=function(){function a(a){var b=arguments.length<=1||void 0===arguments[1]?DefaultComparator:arguments[1];__assertArray(a),__assertFunction(b),MinHeap.apply(this,[a,function(a,c){return-1*b(a,c)}])}return a.prototype=Object.create(MinHeap.prototype),a.prototype.constructor=a,a}(),OrderedLinqCollection=function(){function a(a,b,c){__assertIterable(a),__assertFunction(b),__assertFunction(c),Collection.apply(this,[a]),this.__comparator=b,this.__heapConstructor=c}return a.prototype.ThenBy=function(a){isString(a)&&(a=GetComparatorFromKeySelector(a)),__assertFunction(a);var b=this.__comparator;return this.__comparator=function(c,d){var e=b(c,d);return 0!==e?e:a(c,d)},this},a.prototype.getIterator=function(){var a=this;return regeneratorRuntime.mark(function b(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.delegateYield(Reflect.construct(a.__heapConstructor,[[].concat(_toConsumableArray(a.iterable)),a.__comparator]),"t0",1);case 1:case"end":return b.stop()}},b,this)})()},a}();__export((_export={DefaultComparator:DefaultComparator,Min:Min,Max:Max,Average:Average,Sum:Sum,Concat:Concat,Union:Union,Join:Join,Except:Except,Zip:Zip,Intersect:Intersect,Where:Where,ConditionalWhere:ConditionalWhere,Count:Count,Contains:Contains,IndexOf:IndexOf,Any:Any,All:All,ElementAt:ElementAt,Take:Take,TakeWhile:TakeWhile,TakeUntil:TakeUntil,Skip:Skip,SkipWhile:SkipWhile,SkipUntil:SkipUntil},_defineProperty(_export,"Contains",Contains),_defineProperty(_export,"First",First),_defineProperty(_export,"FirstOrDefault",FirstOrDefault),_defineProperty(_export,"Last",Last),_defineProperty(_export,"LastOrDefault",LastOrDefault),_defineProperty(_export,"Single",Single),_defineProperty(_export,"SingleOrDefault",SingleOrDefault),_defineProperty(_export,"DefaultIfEmpty",DefaultIfEmpty),_defineProperty(_export,"DefaultComparator",DefaultComparator),_defineProperty(_export,"MinHeap",MinHeap),_defineProperty(_export,"MaxHeap",MaxHeap),_defineProperty(_export,"Aggregate",Aggregate),_defineProperty(_export,"Distinct",Distinct),_defineProperty(_export,"Select",Select),_defineProperty(_export,"SelectMany",SelectMany),_defineProperty(_export,"Flatten",Flatten),_defineProperty(_export,"Reverse",Reverse),_defineProperty(_export,"ToArray",ToArray),_defineProperty(_export,"ToDictionary",ToDictionary),_defineProperty(_export,"ToJSON",ToJSON),_defineProperty(_export,"ForEach",ForEach),_defineProperty(_export,"Add",Add),_defineProperty(_export,"Insert",Insert),_defineProperty(_export,"Remove",Remove),_defineProperty(_export,"GetComparatorFromKeySelector",GetComparatorFromKeySelector),_defineProperty(_export,"OrderedLinqCollection",OrderedLinqCollection),_defineProperty(_export,"Order",Order),_defineProperty(_export,"OrderBy",OrderBy),_defineProperty(_export,"OrderDescending",OrderDescending),_defineProperty(_export,"OrderByDescending",OrderByDescending),_defineProperty(_export,"Shuffle",Shuffle),_defineProperty(_export,"GroupBy",GroupBy),_defineProperty(_export,"SequenceEqual",SequenceEqual),_export)),__assign(Collection.prototype,linqjsExports),OrderedLinqCollection.prototype=__assign(__assign({},Collection.prototype),OrderedLinqCollection.prototype),OrderedLinqCollection.prototype.constructor=OrderedLinqCollection;var protosToApplyWrappers=[window.Array.prototype,window.Set.prototype,window.Map.prototype];return Object.keys(Collection.prototype).forEach(function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=protosToApplyWrappers[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;g[a]=function(){var b;return(b=new Collection(this))[a].apply(b,arguments)}}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}),Collection;
}())}();