System.register([],function(t,e){"use strict";var r,n,o,i,s,l,u;e&&e.id;function a(t,...e){if(!t)throw 2===e.length?new r(e[0],e[1]):new Error(e[0])}function c(t){a(g(t),"function",t)}function f(t){a(t instanceof Array,"array",t)}function h(t){a(!x(t),"Sequence is empty!")}function y(t){a(O(t),"iterable",t)}function p(t){a(w(t),"numeric value",t)}function _(t,e,r=1/0){p(t),a(t>=e&&t<=r,`Number must be between ${e} and ${r}!`)}function d(t,e){var r;a(k(r=t),"collection",r),a(w(e),"number",e),a(e>=0&&e<t.count(),"Index is out of bounds")}function m(t,e){return t===e}function b(t,e){return t<e?-1:e<t?1:0}function g(t){return"function"==typeof t}function w(t){return!isNaN(parseFloat(t))}function x(t){return t[Symbol.iterator]().next().done}function O(t){return Symbol.iterator in Object(t)}function k(t){return t instanceof o}function v(t){return t instanceof function*(){}.constructor}function E(t){return/native code/.test(Object(t).toString())||!!~n.indexOf(t)}function S(t,e,r,n){c(r),c(n),h(t);let o=e;for(let e of t)o=r(o,e);return n(o)}function A(t=Object){if(t&&E(t)&&"function"==typeof t){let e=t();return e instanceof Object||t===Date?null:e}return t}function j(t){return c(t),t.length}function D(t,e=b){if(g(t))return new Function("comparator","keySelectorFn","a","b","return comparator(keySelectorFn(a), keySelectorFn(b))").bind(null,e,t);if("string"==typeof t)return t.startsWith("[")||t.startsWith(".")||(t=`.${t}`),new Function("comparator","a","b",`return comparator(a${t}, b${t})`).bind(null,e);throw new r("string or function",t)}function B(t,e=[]){e.push("constructor");let r=u.from(e),n=[];for(let e of Object.getOwnPropertyNames(Object.getPrototypeOf(u.empty)))if(!e.startsWith("_")&&!r.contains(e)&&g(u.empty[e])){if(e in t)throw new Error(`The method "${e}" already exists on the "${t.constructor&&t.constructor.name}" prototype. `+"Use the exclude parameter to patch without this method.");n.push(e)}for(let e of n)t[e]=function(...t){let r=u.from(this);return r[e].call(r,...t)}}return t("defaultComparator",b),t("extendIterablePrototype",B),t("extendNativeTypes",function(){B(Array.prototype,["concat","forEach","indexOf","join","lastIndexOf","reverse"]);const t=Array.prototype.join;Array.prototype.join=function(...e){if(4==e.length||5==e.length){let t=u.from(this);return t.join.call(t,...e)}return t.call(this,...e)};const e=Array.prototype.indexOf;Array.prototype.indexOf=function(...t){if(2==t.length&&g(t[1])){let e=u.from(this);return e.indexOf.call(e,...t)}return e.call(this,...t)};const r=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(...t){if(2==t.length&&g(t[1])){let e=u.from(this);return e.lastIndexOf.call(e,...t)}return r.call(this,...t)},B(Map.prototype,["add","forEach"]),B(Set.prototype,["add","forEach"])}),{setters:[],execute:function(){r=class extends Error{constructor(t,e){super(`Expected ${t}, got ${e}!`)}},n=[Object,Number,Boolean,String,Symbol],o=class t{constructor(t){this.__iterable=null,a(O(t)||v(t),"iterable or generator",t),this.__iterable=t}[Symbol.iterator](){const t=this.__iterable;return v(t)?t():function*(){yield*t}()}__resultOrDefault(t,e=(t=>!0),r=Object){let n;var o;!E(o=e)&&g(o)&&1==j(o)?n=e:(n=(t=>!0),r=e),c(n);const i=A(r);if(x(this))return i;let s=t.call(this,n);return s||i}elementAt(t){return d(this,t),this.skip(t).take(1).toArray()[0]}take(e=0){if(p(e),e<=0)return t.empty;const r=this;return new t(function*(){let t=0;for(let n of r)if(yield n,++t===e)break})}skip(t=0){return p(t),t<=0?this:this.skipWhile((e,r)=>r<t)}takeWhile(e=((t,e)=>!0)){c(e);const r=this;return new t(function*(){let t=0;for(let n of r){if(!e(n,t++))break;yield n}})}takeUntil(t=((t,e)=>!1)){return this.takeWhile((e,r)=>!t(e,r))}skipWhile(e=((t,e)=>!0)){c(e);const r=this;return new t(function*(){let t=0,n=!1;for(let o of r)!n&&e(o,t++)||(n=!0,yield o)})}skipUntil(t=((t,e)=>!1)){return this.skipWhile((e,r)=>!t(e,r))}first(t=(t=>!0)){return c(t),h(this),this.skipWhile(e=>!t(e)).take(1).toArray()[0]}firstOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.first,t,e)}last(t=(t=>!0)){return c(t),h(this),this.reverse().first(t)}lastOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.last,t,e)}single(t=(t=>!0)){c(t),h(this);let e;for(let r of this){if(t(r)){e=r;break}0}if(this.first(r=>t(r)&&!m(r,e)))throw new Error("Sequence contains more than one element");return e}singleOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.single,t,e)}defaultIfEmpty(e){return x(this)?new t([A(e)]):this}concat(e){y(e);const r=this;return new t(function*(){yield*r,yield*e})}union(t,e=m){return y(t),this.concat(t).distinct(e)}join(e,r,n,o,i=m){y(e),c(r),c(n),c(o),c(i);const s=this;return new t(function*(){for(let t of s){const s=r(t);for(let r of e){const e=n(r);i(s,e)&&(yield o(t,r))}}})}except(e){y(e),k(e)||(e=new t(e));const r=this;return new t(function*(){for(let t of r)e.contains(t)||(yield t)})}zip(e,r){y(e),c(r);const n=this;return new t(function*(){const t=e[Symbol.iterator]();for(let e of n){const n=t.next();if(n.done)break;yield r(e,n.value)}})}intersect(e,r=m){y(e),c(r);const n=this;return new t(function*(){const o=t.from(e);for(let t of n)o.any(e=>r(t,e))&&(yield t)})}sequenceEqual(e,r=m){if(!O(e))return!1;const n=this.toArray();if(e=t.from(e).toArray(),n.length!==e.length)return!1;for(let t=0;t<n.length;t++){if(!r(n[t],e[t]))return!1}return!0}static __getEqualKey(t,e,r){for(let n of t.keys())if(r(n,e))return n;return e}groupBy(e,...r){const n=this;function o(t){let r=2===j(t);const o=n.first();try{const n=e(o);r=r&&t(n,n)&&!t(n,{})}catch(t){r=!1}return r}function i(t){return u(t,t=>t,void 0,m)}function s(t,e){let r,n;return o(e)?(r=e,n=(t=>t)):(r=m,n=e),l(t,n,r)}function l(t,e,r){let n,i,s;return o(r)?n=r:s=r,2===j(e)?s=e:i=e,n||(n=m),i||(i=(t=>t)),u(t,i,s,n)}function u(e,r,o,i){c(e),c(r),a(void 0===o||g(o),"resultSelector must be undefined or function!"),c(i);let s,l=new Map;for(let o of n){const n=t.__getEqualKey(l,e(o),i),s=r(o);l.has(n)?l.get(n).push(s):l.set(n,[s])}return s=o?t.from(l).select(t=>o(...t)):l}let f;switch(r.length){case 0:f=i;break;case 1:f=s;break;case 2:f=l;break;case 3:f=u;break;default:throw new Error("GroupBy parameter count can not be greater than 4!")}return f(e,...r)}groupJoin(e,r,n,o,i=m){y(e),c(r),c(n),c(o);let s=new Map;const l=this;for(let o of l){const l=r(o);s.set(o,new t(function*(){for(let t of e)i(l,n(t))&&(yield t)}))}return new t(function*(){for(let[t,e]of s)yield o(t,e.toArray())})}add(t){this.insert(t,this.count())}insert(t,e){a(e>=0&&e<=this.count(),"Index is out of bounds!");const r=this.toArray();this.__iterable=function*(){yield*r.slice(0,e),yield t,yield*r.slice(e,r.length)}}remove(t){let e=this.toArray();const r=function(t,e){f(t);let r,n,o=[];for(;(n=t.shift())&&!(r=m(n,e));)o.push(n);return t.unshift(...o),r}(e,t);return!!r&&(this.__iterable=function*(){yield*e},!0)}min(t=(t=>t)){return c(t),h(this),Math.min.apply(null,this.select(t).toArray())}max(t=(t=>t)){return c(t),h(this),Math.max.apply(null,this.select(t).toArray())}sum(t=(t=>t)){return h(this),this.select(t).aggregate(0,(t,e)=>t+e)}average(t=(t=>t)){return h(this),this.sum(t)/this.count()}order(t=b){return this.orderBy(t=>t,t)}orderDescending(t=b){return this.orderByDescending(t=>t,t)}orderBy(t,e=b){return c(e),new l(this,D(t,e))}orderByDescending(t,e=b){return new l(this,D(t,(t,r)=>e(r,t)))}shuffle(){return this.orderBy(()=>Math.floor(3*Math.random())-1)}indexOf(t,e=m){c(e);let r=0;for(let n of this){if(e(n,t))return r;r++}return-1}lastIndexOf(t,e=m){c(e);let r=0,n=-1;for(let o of this)e(o,t)&&(n=r),r++;return n}contains(t,e=m){return!!~this.indexOf(t,e)}where(e=((t,e)=>!0)){c(e);const r=this;return new t(function*(){let t=0;for(let n of r)e(n,t)&&(yield n),t++})}conditionalWhere(t,e){return t?this.where(e):this}count(t=(t=>!0)){let e=0,r=this.where(t),n=r[Symbol.iterator]();for(;!n.next().done;)e++;return e}any(t=null){return!x(this)&&(!t||!this.where(t)[Symbol.iterator]().next().done)}all(t=(t=>!0)){return c(t),!this.any(e=>!t(e))}aggregate(t,e=null,r=null){return!g(t)||e||r?g(t)||!g(e)||r?S(this,t,e,r):S(this,t,e,t=>t):S(this.skip(1),this.first(),t,t=>t)}select(e=(t=>t)){const r=this;let n=0;return new t(function*(){for(let t of r)yield e(t,n),n++})}flatten(){return this.selectMany(t=>t)}selectMany(e,r=((t,e)=>e)){c(e),c(r);const n=this;return new t(function*(){let t=0;for(let o of n){let n=e(o,t),i=n;i=O(n)?n:[n];for(let t of i[Symbol.iterator]())yield r(o,t);t++}})}distinct(t=m){return c(t),function(t,e=m){y(t),c(e);const r=[];return new o(function*(){t:for(let n of t){for(let t of r)if(e(n,t))continue t;r.push(n),yield n}})}(this,t)}toArray(){return[...this]}toDictionary(e,r=null,n=null){if(c(e),!r&&!n)return this.toDictionary(e,t=>t,m);if(!n&&1===j(r))return this.toDictionary(e,r,m);if(!n&&2===j(r))return this.toDictionary(e,t=>t,r);c(n),c(r);let o=[],i=new Map;const s=this.toArray();for(let l of s){let s=e(l),u=r(l);a(null!=s,"Key is not allowed to be null!"),a(!t.from(o).any(t=>n(t,s)),`Key '${s}' is already in use!`),o.push(s),i.set(s,u)}return i}toLookup(t,e=null,r=null){return c(t),e||r?(r||1!==j(e))&&(r||2!==j(e))?(c(r),c(e),this.groupBy(t,e,r)):this.groupBy(t,e):this.groupBy(t)}reverse(){const e=this.toArray();return new t(function*(){for(let t=e.length-1;t>=0;t--)yield e[t]})}forEach(t){c(t);for(let e of this)t(e)}static from(e){return new t(e)}static range(e,r){return _(r,0,1/0),new t(function*(){let t=e;for(;t!=r+e;)yield t++})}static repeat(e,r){return _(r,0,1/0),new t(function*(){for(let t=0;t<r;t++)yield e})}static get empty(){return new t([])}},i=class t{constructor(t,e){this.__index=t,this.__value=e}static __createHeapElement(e,r){return void 0===r||r instanceof t?r:new t(e,r)}},t("__MinHeap",s=class{constructor(t,e=b){f(t),c(e),this.__elements=t,this.__comparator=((t,r)=>{let n=e(t.__value,r.__value);return 0!==n?n:b(t.__index,r.__index)}),this.__createHeap(this.__elements,this.__comparator)}__heapify(t,e,r){let n=2*(r+1),o=n-1,s=r;if(t[s]=i.__createHeapElement(s,t[s]),o<t.length&&(t[o]=i.__createHeapElement(o,t[o]),e(t[o],t[s])<0&&(s=o)),n<t.length&&(t[n]=i.__createHeapElement(n,t[n]),e(t[n],t[s])<0&&(s=n)),s!==r){let n=t[r];t[r]=t[s],t[s]=n,this.__heapify(t,e,s)}}__createHeap(t,e){if(0!==t.length)for(let r=Math.floor(t.length/2);r>=0;r--)this.__heapify(t,e,r)}__hasTopElement(){return this.__elements.length>0}__getTopElement(){if(1===this.__elements.length)return this.__elements.pop().__value;let t=this.__elements[0];return this.__elements[0]=this.__elements.pop(),this.__heapify(this.__elements,this.__comparator,0),t.__value}[Symbol.iterator](){let t=this;return{next:function(){return t.__hasTopElement()?{done:!1,value:t.__getTopElement()}:{done:!0,value:void 0}}}}}),l=class t extends o{constructor(t,e){c(e),super(t),this.__comparator=e}thenBy(e,r=b){const n=this.__comparator,o=D(e,r),i=(t,e)=>{const r=n(t,e);return 0!==r?r:o(t,e)};return new t(this.__iterable,i)}thenByDescending(t,e=b){return this.thenBy(t,(t,r)=>e(r,t))}[Symbol.iterator](){let t=this,e=super[Symbol.iterator].bind(this);return function*(){yield*new s([...{[Symbol.iterator]:e}],t.__comparator)}()}},t("Collection",u=o),t("default",u)}}});