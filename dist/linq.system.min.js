System.register([],function(t,e){"use strict";var n,r,i,o,s,u,l;e&&e.id;function c(t,...e){if(!t)throw 2===e.length?new n(e[0],e[1]):new Error(e[0])}function a(t){c(w(t),"function",t)}function f(t){c(g(t),"array",t)}function h(t){c(!O(t),"Sequence is empty!")}function y(t){c(v(t),"iterable",t)}function _(t){c(x(t),"numeric value",t)}function d(t,e,n=1/0){_(t),c(t>=e&&t<=n,`Number must be between ${e} and ${n}!`)}function p(t,e){var n;c(k(n=t),"collection",n),c(x(e),"number",e),c(e>=0&&e<t.count(),"Index is out of bounds")}function m(t,e){return t===e}function b(t,e){return t<e?-1:e<t?1:0}function g(t){return t instanceof Array}function w(t){return"function"==typeof t}function x(t){return"number"==typeof t&&!isNaN(t)}function O(t){return v(t)&&t[Symbol.iterator]().next().done}function v(t){return Symbol.iterator in Object(t)}function S(t){return"string"==typeof t}function k(t){return t instanceof i}function E(t){return t instanceof function*(){}.constructor}function j(t){return void 0===t}function D(t){return!A(t)&&w(t)&&1==W(t)}function A(t){return"function"==typeof t&&/native code/.test(Object(t).toString())||!!~r.indexOf(t)}function B(t,e,n,r){a(n),a(r);let i=e;for(let e of t)i=n(i,e);return r(i)}function I(t,e=m){y(t),a(e);const n=[];return new i(function*(){t:for(let r of t){for(let t of n)if(e(r,t))continue t;n.push(r),yield r}})}function M(t=Object){if(t&&A(t)&&"function"==typeof t){let e=t();return e instanceof Object||t===Date?null:e}return t}function W(t){return a(t),t.length}function $(t,e=b){if(w(t))return new Function("comparator","keySelectorFn","a","b","return comparator(keySelectorFn(a), keySelectorFn(b))").bind(null,e,t);if(S(t))return t.startsWith("[")||t.startsWith(".")||(t=`.${t}`),new Function("comparator","a","b",`return comparator(a${t}, b${t})`).bind(null,e);throw new n("string or function",t)}function N(t,e=[]){e.push("constructor");let n=l.from(e),r=[];for(let e of Object.getOwnPropertyNames(Object.getPrototypeOf(l.empty)))if(!e.startsWith("_")&&!n.contains(e)&&w(l.empty[e])){if(e in t)throw new Error(`The method "${e}" already exists on the "${t.constructor&&t.constructor.name}" prototype. `+"Use the exclude parameter to patch without this method.");r.push(e)}for(let e of r)t[e]=function(...t){let n=l.from(this);return n[e].call(n,...t)}}return t("defaultComparator",b),t("_isArray",g),t("_isFunction",w),t("_isNumeric",x),t("_isEmpty",O),t("_isIterable",v),t("_isString",S),t("_isCollection",k),t("_isGenerator",E),t("_isUndefined",j),t("_isPredicate",D),t("_isNative",A),t("extendIterablePrototype",N),t("extendNativeTypes",function(){N(Array.prototype,["concat","forEach","indexOf","join","lastIndexOf","reverse"]);const t=Array.prototype.join;Array.prototype.join=function(...e){if(4==e.length||5==e.length){let t=l.from(this);return t.join.call(t,...e)}return t.call(this,...e)};const e=Array.prototype.indexOf;Array.prototype.indexOf=function(...t){if(2==t.length&&w(t[1])){let e=l.from(this);return e.indexOf.call(e,...t)}return e.call(this,...t)};const n=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(...t){if(2==t.length&&w(t[1])){let e=l.from(this);return e.lastIndexOf.call(e,...t)}return n.call(this,...t)},N(Map.prototype,["add","forEach"]),N(Set.prototype,["add","forEach"])}),{setters:[],execute:function(){n=class extends Error{constructor(t,e){super(`Expected ${t}, got ${e}!`)}},r=[Object,Number,Boolean,String,Symbol],i=class t{constructor(t){this.__iterable=null,c(v(t)||E(t),"iterable or generator",t),this.__iterable=t}[Symbol.iterator](){const t=this.__iterable;return E(t)?t():function*(){yield*t}()}__resultOrDefault(t,e=(t=>!0),n=Object){let r;D(e)?r=e:(r=(t=>!0),n=e),a(r);const i=M(n);if(O(this))return i;let o=t.call(this,r);return o||i}elementAt(t){return p(this,t),this.skip(t).first()}take(e=0){if(_(e),e<=0)return t.empty;const n=this;return new t(function*(){let t=0;for(let r of n)if(yield r,++t===e)break})}skip(t=0){return _(t),t<=0?this:this.skipWhile((e,n)=>n<t)}takeWhile(e=((t,e)=>!0)){a(e);const n=this;return new t(function*(){let t=0;for(let r of n){if(!e(r,t++))break;yield r}})}takeUntil(t=((t,e)=>!1)){return this.takeWhile((e,n)=>!t(e,n))}skipWhile(e=((t,e)=>!0)){a(e);const n=this;return new t(function*(){let t=0,r=!1;for(let i of n)!r&&e(i,t++)||(r=!0,yield i)})}skipUntil(t=((t,e)=>!1)){return this.skipWhile((e,n)=>!t(e,n))}first(t=(t=>!0)){return a(t),h(this),this.skipWhile(e=>!t(e))[Symbol.iterator]().next().value}firstOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.first,t,e)}last(t=(t=>!0)){return a(t),h(this),this.reverse().first(t)}lastOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.last,t,e)}single(t=(t=>!0)){a(t),h(this);let e;for(let n of this){if(t(n)){e=n;break}0}if(this.first(n=>t(n)&&!m(n,e)))throw new Error("Sequence contains more than one element");return e}singleOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.single,t,e)}defaultIfEmpty(e){return O(this)?new t([M(e)]):this}concat(e){y(e);const n=this;return new t(function*(){yield*n,yield*e})}union(t,e=m){return y(t),this.concat(t).distinct(e)}join(e,n,r,i,o=m){y(e),a(n),a(r),a(i),a(o);const s=this;return new t(function*(){for(let t of s){const s=n(t);for(let n of e){const e=r(n);o(s,e)&&(yield i(t,n))}}})}except(e){y(e),k(e)||(e=new t(e));const n=this;return new t(function*(){for(let t of n)e.contains(t)||(yield t)})}zip(e,n){y(e),a(n);const r=this;return new t(function*(){const t=e[Symbol.iterator]();for(let e of r){const r=t.next();if(r.done)break;yield n(e,r.value)}})}intersect(e,n=m){y(e),a(n);const r=this;return new t(function*(){const i=t.from(e);for(let t of r)i.any(e=>n(t,e))&&(yield t)})}sequenceEqual(t,e=m){if(!v(t))return!1;const n=this[Symbol.iterator](),r=t[Symbol.iterator]();let i,o;do{if(i=n.next(),o=r.next(),i.done!=o.done)return!1;if(!i.done&&!e(i.value,o.value))return!1}while(!i.done);return!0}static __getEqualKey(t,e,n){for(let r of t.keys())if(n(r,e))return r;return e}groupBy(e,...n){const r=this;function i(t){let n=2===W(t);const i=r.first();try{const r=e(i);n=n&&t(r,r)&&!t(r,{})}catch(t){n=!1}return n}function o(t,e,n){let r,o,u;return i(n)?r=n:u=n,2===W(e)?u=e:o=e,r||(r=m),o||(o=(t=>t)),s(t,o,u,r)}function s(e,n,i,o){a(e),a(n),c(j(i)||w(i),"resultSelector must be undefined or function!"),a(o);let s,u=new Map;for(let i of r){const r=t.__getEqualKey(u,e(i),o),s=n(i);u.has(r)?u.get(r).push(s):u.set(r,[s])}return s=i?t.from(u).select(t=>i(...t)):u}let u;switch(n.length){case 0:u=function(t){return s(t,t=>t,void 0,m)};break;case 1:u=function(t,e){let n,r;return i(e)?(n=e,r=(t=>t)):(n=m,r=e),o(t,r,n)};break;case 2:u=o;break;case 3:u=s;break;default:throw new Error("GroupBy parameter count can not be greater than 4!")}return u(e,...n)}groupJoin(e,n,r,i,o=m){y(e),a(n),a(r),a(i);let s=new Map;const u=this;for(let i of u){const u=n(i);s.set(i,new t(function*(){for(let t of e)o(u,r(t))&&(yield t)}))}return new t(function*(){for(let[t,e]of s)yield i(t,e)})}add(t){this.insert(t,this.count())}insert(t,e){const n=this.toArray();c(e>=0&&e<=n.length,"Index is out of bounds!"),this.__iterable=function*(){yield*n.slice(0,e),yield t,yield*n.slice(e,n.length)}}remove(t){let e=this.toArray();return!!function(t,e){f(t);let n,r,i=[];for(;(r=t.shift())&&!(n=m(r,e));)i.push(r);return t.unshift(...i),n}(e,t)&&(this.__iterable=function*(){yield*e},!0)}min(t=(t=>t)){return a(t),h(this),this.select(t).aggregate((t,e)=>t<e?t:e)}max(t=(t=>t)){return a(t),h(this),this.select(t).aggregate((t,e)=>t>e?t:e)}sum(t=(t=>t)){return h(this),this.select(t).aggregate(0,(t,e)=>t+e)}average(t=(t=>t)){return h(this),this.sum(t)/this.count()}order(t=b){return this.orderBy(t=>t,t)}orderDescending(t=b){return this.orderByDescending(t=>t,t)}orderBy(t,e=b){return a(e),new u(this,$(t,e))}orderByDescending(t,e=b){return new u(this,$(t,(t,n)=>e(n,t)))}shuffle(){return this.orderBy(()=>Math.floor(3*Math.random())-1)}indexOf(t,e=m){a(e);let n=0;for(let r of this){if(e(r,t))return n;n++}return-1}lastIndexOf(t,e=m){a(e);let n=0,r=-1;for(let i of this)e(i,t)&&(r=n),n++;return r}contains(t,e=m){return!!~this.indexOf(t,e)}where(e=((t,e)=>!0)){a(e);const n=this;return new t(function*(){let t=0;for(let r of n)e(r,t)&&(yield r),t++})}conditionalWhere(t,e){return t?this.where(e):this}count(t=(t=>!0)){let e=0,n=this.where(t)[Symbol.iterator]();for(;!n.next().done;)e++;return e}any(t=null){return!O(this)&&(!t||!this.where(t)[Symbol.iterator]().next().done)}all(t=(t=>!0)){return a(t),!this.any(e=>!t(e))}aggregate(t,e=null,n=null){return!w(t)||e||n?w(t)||!w(e)||n?B(this,t,e,n):B(this,t,e,t=>t):B(this.skip(1),this.first(),t,t=>t)}select(e=(t=>t)){const n=this;let r=0;return new t(function*(){for(let t of n)yield e(t,r),r++})}flatten(){return this.selectMany(t=>t)}selectMany(e,n=((t,e)=>e)){a(e),a(n);const r=this;return new t(function*(){let t=0;for(let i of r){let r=e(i,t),o=r;o=v(r)?r:[r];for(let t of o[Symbol.iterator]())yield n(i,t);t++}})}distinct(t=m){return a(t),I(this,t)}toArray(){return[...this]}toDictionary(e,n=null,r=null){if(a(e),!n&&!r)return this.toDictionary(e,t=>t,m);if(!r&&1===W(n))return this.toDictionary(e,n,m);if(!r&&2===W(n))return this.toDictionary(e,t=>t,n);a(r),a(n);let i=[],o=new Map;for(let s of this){let u=e(s),l=n(s);c(null!=u,"Key is not allowed to be null!"),c(!t.from(i).any(t=>r(t,u)),`Key '${u}' is already in use!`),i.push(u),o.set(u,l)}return o}toLookup(t,e=null,n=null){return a(t),e||n?(n||1!==W(e))&&(n||2!==W(e))?(a(n),a(e),this.groupBy(t,e,n)):this.groupBy(t,e):this.groupBy(t)}reverse(){const e=this.toArray();return new t(function*(){for(let t=e.length-1;t>=0;t--)yield e[t]})}forEach(t){a(t);for(let e of this)t(e)}static from(e){return new t(e)}static range(e,n){return d(n,0,1/0),new t(function*(){let t=e;for(;t!=n+e;)yield t++})}static repeat(e,n){return d(n,0,1/0),new t(function*(){for(let t=0;t<n;t++)yield e})}static get empty(){return new t([])}},o=class t{constructor(t,e){this.__index=t,this.__value=e}static __createHeapElement(e,n){return void 0===n||n instanceof t?n:new t(e,n)}},t("_MinHeap",s=class{constructor(t,e=b){f(t),a(e),this.__elements=t,this.__comparator=((t,n)=>{let r=e(t.__value,n.__value);return 0!==r?r:b(t.__index,n.__index)}),this.__createHeap(this.__elements,this.__comparator)}__heapify(t,e,n){let r=2*(n+1),i=r-1,s=n;if(t[s]=o.__createHeapElement(s,t[s]),i<t.length&&(t[i]=o.__createHeapElement(i,t[i]),e(t[i],t[s])<0&&(s=i)),r<t.length&&(t[r]=o.__createHeapElement(r,t[r]),e(t[r],t[s])<0&&(s=r)),s!==n){let r=t[n];t[n]=t[s],t[s]=r,this.__heapify(t,e,s)}}__createHeap(t,e){if(0!==t.length)for(let n=Math.floor(t.length/2);n>=0;n--)this.__heapify(t,e,n)}__hasTopElement(){return this.__elements.length>0}__getTopElement(){if(1===this.__elements.length)return this.__elements.pop().__value;let t=this.__elements[0];return this.__elements[0]=this.__elements.pop(),this.__heapify(this.__elements,this.__comparator,0),t.__value}[Symbol.iterator](){let t=this;return{next:function(){return t.__hasTopElement()?{done:!1,value:t.__getTopElement()}:{done:!0,value:void 0}}}}}),u=class t extends i{constructor(t,e){a(e),super(t),this.__comparator=e}thenBy(e,n=b){const r=this.__comparator,i=$(e,n);return new t(this.__iterable,(t,e)=>{const n=r(t,e);return 0!==n?n:i(t,e)})}thenByDescending(t,e=b){return this.thenBy(t,(t,n)=>e(n,t))}[Symbol.iterator](){let t=this,e=super[Symbol.iterator].bind(this);return function*(){yield*new s([...{[Symbol.iterator]:e}],t.__comparator)}()}},t("Collection",l=i),t("default",l)}}});