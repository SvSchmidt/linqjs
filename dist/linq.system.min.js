System.register([],function(t,e){"use strict";function r(t,...e){if(!t)throw 2===e.length?new E(e[0],e[1]):new Error(e[0])}function n(t){r(h(t),"function",t)}function o(t){r(function(t){return t instanceof Array}(t),"array",t)}function i(t){r(!_(t),"Sequence is empty!")}function s(t){r(p(t),"iterable",t)}function l(t){r(y(t),"numeric value",t)}function u(t,e,n=1/0){l(t),r(t>=e&&t<=n,`Number must be between ${e} and ${n}!`)}function a(t,e){!function(t){r(d(t),"collection",t)}(t),r(y(e),"number",e),r(e>=0&&e<t.count(),"Index is out of bounds")}function c(t,e){return t===e}function f(t,e){return t<e?-1:e<t?1:0}function h(t){return"function"==typeof t}function y(t){return!isNaN(parseFloat(t))}function _(t){return t[Symbol.iterator]().next().done}function p(t){return Symbol.iterator in Object(t)}function d(t){return t instanceof v}function m(t){return t instanceof function*(){}.constructor}function b(t){return/native code/.test(Object(t).toString())||!!~S.indexOf(t)}function g(t,e,r,o){n(r),n(o),i(t);let s=e;for(let e of t)s=r(s,e);return o(s)}function w(t=Object){if(t&&b(t)&&"function"==typeof t){let e=t();return e instanceof Object||t===Date?null:e}return t}function x(t){return n(t),t.length}function O(t,e=f){if(h(t))return new Function("comparator","keySelectorFn","a","b","return comparator(keySelectorFn(a), keySelectorFn(b))").bind(null,e,t);if(function(t){return"string"==typeof t}(t))return t.startsWith("[")||t.startsWith(".")||(t=`.${t}`),new Function("comparator","a","b",`return comparator(a${t}, b${t})`).bind(null,e);throw new E("string or function",t)}function k(t,e=[]){e.push("constructor");let r=M.from(e),n=[];for(let e of Object.getOwnPropertyNames(Object.getPrototypeOf(M.empty)))if(!e.startsWith("_")&&!r.contains(e)&&h(M.empty[e])){if(e in t)throw new Error(`The method "${e}" already exists on the "${t.constructor&&t.constructor.name}" prototype. `+"Use the exclude parameter to patch without this method.");n.push(e)}for(let e of n)t[e]=function(...t){let r=M.from(this);return r[e].call(r,...t)}}e&&e.id;t("defaultComparator",f),t("extendIterablePrototype",k),t("extendNativeTypes",function(){k(Array.prototype,["concat","forEach","indexOf","join","lastIndexOf","reverse"]);const t=Array.prototype.join;Array.prototype.join=function(...e){if(4==e.length||5==e.length){let t=M.from(this);return t.join.call(t,...e)}return t.call(this,...e)};const e=Array.prototype.indexOf;Array.prototype.indexOf=function(...t){if(2==t.length&&h(t[1])){let e=M.from(this);return e.indexOf.call(e,...t)}return e.call(this,...t)};const r=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(...t){if(2==t.length&&h(t[1])){let e=M.from(this);return e.lastIndexOf.call(e,...t)}return r.call(this,...t)},k(Map.prototype,["add","forEach"]),k(Set.prototype,["add","forEach"])});var E,S,v,A,j,D,M;return{setters:[],execute:function(){E=class extends Error{constructor(t,e){super(`Expected ${t}, got ${e}!`)}},S=[Object,Number,Boolean,String,Symbol],v=class t{constructor(t){this.__iterable=null,r(p(t)||m(t),"iterable or generator",t),this.__iterable=t}[Symbol.iterator](){const t=this.__iterable;return m(t)?t():function*(){yield*t}()}__resultOrDefault(t,e=(t=>!0),r=Object){let o;!function(t){return!b(t)&&h(t)&&1==x(t)}(e)?(o=(t=>!0),r=e):o=e,n(o);const i=w(r);if(_(this))return i;let s=t.call(this,o);return s||i}elementAt(t){return a(this,t),this.skip(t).take(1).toArray()[0]}take(e=0){if(l(e),e<=0)return t.empty;const r=this;return new t(function*(){let t=0;for(let n of r)if(yield n,++t===e)break})}skip(t=0){return l(t),t<=0?this:this.skipWhile((e,r)=>r<t)}takeWhile(e=((t,e)=>!0)){n(e);const r=this;return new t(function*(){let t=0;for(let n of r){if(!e(n,t++))break;yield n}})}takeUntil(t=((t,e)=>!1)){return this.takeWhile((e,r)=>!t(e,r))}skipWhile(e=((t,e)=>!0)){n(e);const r=this;return new t(function*(){let t=0,n=!1;for(let o of r)!n&&e(o,t++)||(n=!0,yield o)})}skipUntil(t=((t,e)=>!1)){return this.skipWhile((e,r)=>!t(e,r))}first(t=(t=>!0)){return n(t),i(this),this.skipWhile(e=>!t(e)).take(1).toArray()[0]}firstOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.first,t,e)}last(t=(t=>!0)){return n(t),i(this),this.reverse().first(t)}lastOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.last,t,e)}single(t=(t=>!0)){n(t),i(this);let e;for(let r of this){if(t(r)){e=r;break}0}if(this.first(r=>t(r)&&!c(r,e)))throw new Error("Sequence contains more than one element");return e}singleOrDefault(t=(t=>!0),e=Object){return this.__resultOrDefault(this.single,t,e)}defaultIfEmpty(e){return _(this)?new t([w(e)]):this}concat(e){s(e);const r=this;return new t(function*(){yield*r,yield*e})}union(t,e=c){return s(t),this.concat(t).distinct(e)}join(e,r,o,i,l=c){s(e),n(r),n(o),n(i),n(l);const u=this;return new t(function*(){for(let t of u){const n=r(t);for(let r of e){const e=o(r);l(n,e)&&(yield i(t,r))}}})}except(e){s(e),d(e)||(e=new t(e));const r=this;return new t(function*(){for(let t of r)e.contains(t)||(yield t)})}zip(e,r){s(e),n(r);const o=this;return new t(function*(){const t=e[Symbol.iterator]();for(let e of o){const n=t.next();if(n.done)break;yield r(e,n.value)}})}intersect(e,r=c){s(e),n(r);const o=this;return new t(function*(){const n=t.from(e);for(let t of o)n.any(e=>r(t,e))&&(yield t)})}sequenceEqual(e,r=c){if(!p(e))return!1;const n=this.toArray();if(e=t.from(e).toArray(),n.length!==e.length)return!1;for(let t=0;t<n.length;t++){if(!r(n[t],e[t]))return!1}return!0}static __getEqualKey(t,e,r){for(let n of t.keys())if(r(n,e))return n;return e}groupBy(e,...o){function i(t){let e=2===x(t);try{e=e&&t(1,1)&&!t(1,2)}catch(t){e=!1}return e}function s(t){return a(t,t=>t,void 0,c)}function l(t,e){let r,n;return i(e)?(r=e,n=(t=>t)):(r=c,n=e),u(t,n,r)}function u(t,e,r){let n,o,s;return i(r)?n=r:s=r,2===x(e)?s=e:o=e,n||(n=c),o||(o=(t=>t)),a(t,o,s,n)}function a(e,o,i,s){n(e),n(o),r(function(t){return void 0===t}(i)||h(i),"resultSelector must be undefined or function!"),n(s);let l,u=new Map;for(let r of f){const n=t.__getEqualKey(u,e(r),s),i=o(r);u.has(n)?u.get(n).push(i):u.set(n,[i])}return l=i?t.from(u).select(t=>i(...t)):u}const f=this;let y;switch(o.length){case 0:y=s;break;case 1:y=l;break;case 2:y=u;break;case 3:y=a;break;default:throw new Error("GroupBy parameter count can not be greater than 4!")}return y(e,...o)}groupJoin(e,r,o,i,l=c){s(e),n(r),n(o),n(i);let u=new Map;for(let n of this){const i=r(n);u.set(n,new t(function*(){for(let t of e)l(i,o(t))&&(yield t)}))}return new t(function*(){for(let[t,e]of u)yield i(t,e.toArray())})}add(t){this.insert(t,this.count())}insert(t,e){r(e>=0&&e<=this.count(),"Index is out of bounds!");const n=this.toArray();this.__iterable=function*(){yield*n.slice(0,e),yield t,yield*n.slice(e,n.length)}}remove(t){let e=this.toArray();return!!function(t,e){o(t);let r,n,i=[];for(;(n=t.shift())&&!(r=c(n,e));)i.push(n);return t.unshift(...i),r}(e,t)&&(this.__iterable=function*(){yield*e},!0)}min(t=(t=>t)){return n(t),i(this),Math.min.apply(null,this.select(t).toArray())}max(t=(t=>t)){return n(t),i(this),Math.max.apply(null,this.select(t).toArray())}sum(t=(t=>t)){return i(this),this.select(t).aggregate(0,(t,e)=>t+e)}average(t=(t=>t)){return i(this),this.sum(t)/this.count()}order(t=f){return this.orderBy(t=>t,t)}orderDescending(t=f){return this.orderByDescending(t=>t,t)}orderBy(t,e=f){return n(e),new D(this,O(t,e))}orderByDescending(t,e=f){return new D(this,O(t,(t,r)=>e(r,t)))}shuffle(){return this.orderBy(()=>Math.floor(3*Math.random())-1)}indexOf(t,e=c){n(e);let r=0;for(let n of this){if(e(n,t))return r;r++}return-1}lastIndexOf(t,e=c){n(e);let r=0,o=-1;for(let n of this)e(n,t)&&(o=r),r++;return o}contains(t,e=c){return!!~this.indexOf(t,e)}where(e=((t,e)=>!0)){n(e);const r=this;return new t(function*(){let t=0;for(let n of r)e(n,t)&&(yield n),t++})}conditionalWhere(t,e){return t?this.where(e):this}count(t=(t=>!0)){let e=0,r=this.where(t)[Symbol.iterator]();for(;!r.next().done;)e++;return e}any(t=null){return!_(this)&&(!t||!this.where(t)[Symbol.iterator]().next().done)}all(t=(t=>!0)){return n(t),!this.any(e=>!t(e))}aggregate(t,e=null,r=null){return!h(t)||e||r?h(t)||!h(e)||r?g(this,t,e,r):g(this,t,e,t=>t):g(this.skip(1),this.first(),t,t=>t)}select(e=(t=>t)){const r=this;let n=0;return new t(function*(){for(let t of r)yield e(t,n),n++})}flatten(){return this.selectMany(t=>t)}selectMany(e,r=((t,e)=>e)){n(e),n(r);const o=this;return new t(function*(){let t=0;for(let n of o){let o=e(n,t),i=o;i=p(o)?o:[o];for(let t of i[Symbol.iterator]())yield r(n,t);t++}})}distinct(t=c){return n(t),function(t,e=c){s(t),n(e);const r=[];return new v(function*(){t:for(let n of t){for(let t of r)if(e(n,t))continue t;r.push(n),yield n}})}(this,t)}toArray(){return[...this]}toDictionary(e,o=null,i=null){if(n(e),!o&&!i)return this.toDictionary(e,t=>t,c);if(!i&&1===x(o))return this.toDictionary(e,o,c);if(!i&&2===x(o))return this.toDictionary(e,t=>t,o);n(i),n(o);let s=[],l=new Map;const u=this.toArray();for(let n of u){let u=e(n),a=o(n);r(null!=u,"Key is not allowed to be null!"),r(!t.from(s).any(t=>i(t,u)),`Key '${u}' is already in use!`),s.push(u),l.set(u,a)}return l}reverse(){const e=this.toArray();return new t(function*(){for(let t=e.length-1;t>=0;t--)yield e[t]})}forEach(t){n(t);for(let e of this)t(e)}static from(e){return new t(e)}static range(e,r){return u(r,0,1/0),new t(function*(){let t=e;for(;t!=r+e;)yield t++})}static repeat(e,r){return u(r,0,1/0),new t(function*(){for(let t=0;t<r;t++)yield e})}static get empty(){return new t([])}},A=class t{constructor(t,e){this.__index=t,this.__value=e}static __createHeapElement(e,r){return void 0===r||r instanceof t?r:new t(e,r)}},t("__MinHeap",j=class{constructor(t,e=f){o(t),n(e),this.__elements=t,this.__comparator=((t,r)=>{let n=e(t.__value,r.__value);return 0!==n?n:f(t.__index,r.__index)}),this.__createHeap(this.__elements,this.__comparator)}__heapify(t,e,r){let n=2*(r+1),o=n-1,i=r;if(t[i]=A.__createHeapElement(i,t[i]),o<t.length&&(t[o]=A.__createHeapElement(o,t[o]),e(t[o],t[i])<0&&(i=o)),n<t.length&&(t[n]=A.__createHeapElement(n,t[n]),e(t[n],t[i])<0&&(i=n)),i!==r){let n=t[r];t[r]=t[i],t[i]=n,this.__heapify(t,e,i)}}__createHeap(t,e){if(0!==t.length)for(let r=Math.floor(t.length/2);r>=0;r--)this.__heapify(t,e,r)}__hasTopElement(){return this.__elements.length>0}__getTopElement(){if(1===this.__elements.length)return this.__elements.pop().__value;let t=this.__elements[0];return this.__elements[0]=this.__elements.pop(),this.__heapify(this.__elements,this.__comparator,0),t.__value}[Symbol.iterator](){let t=this;return{next:function(){return t.__hasTopElement()?{done:!1,value:t.__getTopElement()}:{done:!0,value:void 0}}}}}),D=class t extends v{constructor(t,e){n(e),super(t),this.__comparator=e}thenBy(e,r=f){const n=this.__comparator,o=O(e,r);return new t(this.__iterable,(t,e)=>{const r=n(t,e);return 0!==r?r:o(t,e)})}thenByDescending(t,e=f){return this.thenBy(t,(t,r)=>e(r,t))}[Symbol.iterator](){let t=this,e=super[Symbol.iterator].bind(this);return function*(){yield*new j([...{[Symbol.iterator]:e}],t.__comparator)}()}},t("Collection",M=v),t("default",M)}}});