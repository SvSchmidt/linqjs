"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function __assert(e){if(!e)throw 2==(arguments.length<=1?0:arguments.length-1)?new __AssertionError(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):new Error(arguments.length<=1?void 0:arguments[1])}function __assertFunction(e){__assert(__isFunction(e),"function",e)}function __assertArray(e){__assert(__isArray(e),"array",e)}function __assertNotEmpty(e){__assert(!__isEmpty(e),"Sequence is empty!")}function __assertIterable(e){__assert(__isIterable(e),"iterable",e)}function __assertCollection(e){__assert(__isCollection(e),"collection",e)}function __assertNumeric(e){__assert(__isNumeric(e),"numeric value",e)}function __assertNumberBetween(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;__assertNumeric(e),__assert(e>=t&&e<=r,"Number must be between "+t+" and "+r+"!")}function __assertIndexInRange(e,t){__assertCollection(e),__assert(__isNumeric(t),"number",t),__assert(t>=0&&t<e.count(),"Index is out of bounds")}function __defaultEqualityCompareFn(e,t){return e===t}function defaultComparator(e,t){return e<t?-1:t<e?1:0}function __isArray(e){return e instanceof Array}function __isFunction(e){return"function"==typeof e}function __isNumeric(e){return!isNaN(parseFloat(e))}function __isEmpty(e){return e[Symbol.iterator]().next().done}function __isIterable(e){return Symbol.iterator in Object(e)}function __isString(e){return"string"==typeof e}function __isCollection(e){return e instanceof __Collection}function __isGenerator(e){return e instanceof regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}).constructor}function __isUndefined(e){return"undefined"===(void 0===e?"undefined":_typeof(e))}function __isPredicate(e){return!__isNative(e)&&__isFunction(e)&&1==__getParameterCount(e)}function __isNative(e){return/native code/.test(Object(e).toString())||!!~__nativeConstructors.indexOf(e)}function __aggregateCollection(e,t,r,n){__assertFunction(r),__assertFunction(n);var a=t,o=!0,i=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){a=r(a,s.value)}}catch(e){i=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n(a)}function __removeDuplicates(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;__assertIterable(e),__assertFunction(t);var r=[];return new __Collection(regeneratorRuntime.mark(function n(){var a,o,i,u,s,c,l,f,_,v,h,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=!0,o=!1,i=void 0,n.prev=3,u=e[Symbol.iterator]();case 5:if(a=(s=u.next()).done){n.next=39;break}c=s.value,l=!0,f=!1,_=void 0,n.prev=10,v=r[Symbol.iterator]();case 12:if(l=(h=v.next()).done){n.next=19;break}if(p=h.value,!t(c,p)){n.next=16;break}return n.abrupt("continue",36);case 16:l=!0,n.next=12;break;case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(10),f=!0,_=n.t0;case 25:n.prev=25,n.prev=26,!l&&v.return&&v.return();case 28:if(n.prev=28,!f){n.next=31;break}throw _;case 31:return n.finish(28);case 32:return n.finish(25);case 33:return r.push(c),n.next=36,c;case 36:a=!0,n.next=5;break;case 39:n.next=45;break;case 41:n.prev=41,n.t1=n.catch(3),o=!0,i=n.t1;case 45:n.prev=45,n.prev=46,!a&&u.return&&u.return();case 48:if(n.prev=48,!o){n.next=51;break}throw i;case 51:return n.finish(48);case 52:return n.finish(45);case 53:case"end":return n.stop()}},n,this,[[3,41,45,53],[10,21,25,33],[26,,28,32],[46,,48,52]])}))}function __removeFromArray(e,t){__assertArray(e);for(var r=[],n=void 0,a=void 0;(a=e.shift())&&!(n=__defaultEqualityCompareFn(a,t));)r.push(a);return e.unshift.apply(e,r),n}function __getDefault(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object;if(e&&__isNative(e)&&"function"==typeof e){var t=e();return t instanceof Object||e===Date?null:t}return e}function __getParameterCount(e){return __assertFunction(e),e.length}function __getComparatorFromKeySelector(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultComparator;if(__isFunction(e))return new Function("comparator","keySelectorFn","a","b","return comparator(keySelectorFn(a), keySelectorFn(b))").bind(null,t,e);if(__isString(e))return e.startsWith("[")||e.startsWith(".")||(e="."+e),new Function("comparator","a","b","return comparator(a"+e+", b"+e+")").bind(null,t);throw new __AssertionError("string or function",e)}function extendIterablePrototype(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push("constructor");var r=exports.Collection.from(t),n=[],a=!0,o=!1,i=void 0;try{for(var u,s=Object.getOwnPropertyNames(Object.getPrototypeOf(exports.Collection.empty))[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;if(!c.startsWith("_")&&!r.contains(c)&&__isFunction(exports.Collection.empty[c])){if(c in e)throw new Error('The method "'+c+'" already exists on the "'+(e.constructor&&e.constructor.name)+'" prototype. Use the exclude parameter to patch without this method.');n.push(c)}}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}var l=function(t){e[t]=function(){for(var e,r=exports.Collection.from(this),n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=r[t]).call.apply(e,[r].concat(a))}},f=!0,_=!1,v=void 0;try{for(var h,p=n[Symbol.iterator]();!(f=(h=p.next()).done);f=!0){l(h.value)}}catch(e){_=!0,v=e}finally{try{!f&&p.return&&p.return()}finally{if(_)throw v}}}function extendNativeTypes(){extendIterablePrototype(Array.prototype,["concat","forEach","indexOf","join","lastIndexOf","reverse"]);var e=Array.prototype.join;Array.prototype.join=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(4==r.length||5==r.length){var a,o=exports.Collection.from(this);return(a=o.join).call.apply(a,[o].concat(r))}return e.call.apply(e,[this].concat(r))};var t=Array.prototype.indexOf;Array.prototype.indexOf=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(2==r.length&&__isFunction(r[1])){var a,o=exports.Collection.from(this);return(a=o.indexOf).call.apply(a,[o].concat(r))}return t.call.apply(t,[this].concat(r))};var r=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(2==t.length&&__isFunction(t[1])){var a,o=exports.Collection.from(this);return(a=o.lastIndexOf).call.apply(a,[o].concat(t))}return r.call.apply(r,[this].concat(t))},extendIterablePrototype(Map.prototype,["add","forEach"]),extendIterablePrototype(Set.prototype,["add","forEach"])}var _get=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in a)return a.value;var i=a.get;if(void 0!==i)return i.call(n)},_slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var __AssertionError=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Expected "+e+", got "+r+"!"))}return _inherits(t,Error),t}();exports.defaultComparator=defaultComparator;var __nativeConstructors=[Object,Number,Boolean,String,Symbol],__Collection=function(){function e(t){_classCallCheck(this,e),this.__iterable=null,__assert(__isIterable(t)||__isGenerator(t),"iterable or generator",t),this.__iterable=t}return _createClass(e,[{key:Symbol.iterator,value:function(){var e=this.__iterable;return __isGenerator(e)?e():regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t,this)})()}},{key:"__resultOrDefault",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object,n=void 0;__isPredicate(t)?n=t:(n=function(e){return!0},r=t),__assertFunction(n);var a=__getDefault(r);if(__isEmpty(this))return a;var o=e.call(this,n);return o||a}},{key:"elementAt",value:function(e){return __assertIndexInRange(this,e),this.skip(e).first()}},{key:"take",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(__assertNumeric(t),t<=0)return e.empty;var r=this;return new e(regeneratorRuntime.mark(function e(){var n,a,o,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!0,o=!1,i=void 0,e.prev=4,u=r[Symbol.iterator]();case 6:if(a=(s=u.next()).done){e.next=15;break}return c=s.value,e.next=10,c;case 10:if(++n!==t){e.next=12;break}return e.abrupt("break",15);case 12:a=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),o=!0,i=e.t0;case 21:e.prev=21,e.prev=22,!a&&u.return&&u.return();case 24:if(e.prev=24,!o){e.next=27;break}throw i;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[4,17,21,29],[22,,24,28]])}))}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return __assertNumeric(e),e<=0?this:this.skipWhile(function(t,r){return r<e})}},{key:"takeWhile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return!0};__assertFunction(t);var r=this;return new e(regeneratorRuntime.mark(function e(){var n,a,o,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!0,o=!1,i=void 0,e.prev=4,u=r[Symbol.iterator]();case 6:if(a=(s=u.next()).done){e.next=17;break}if(c=s.value,!t(c,n++)){e.next=13;break}return e.next=11,c;case 11:e.next=14;break;case 13:return e.abrupt("break",17);case 14:a=!0,e.next=6;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),o=!0,i=e.t0;case 23:e.prev=23,e.prev=24,!a&&u.return&&u.return();case 26:if(e.prev=26,!o){e.next=29;break}throw i;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[4,19,23,31],[24,,26,30]])}))}},{key:"takeUntil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return!1};return this.takeWhile(function(t,r){return!e(t,r)})}},{key:"skipWhile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return!0};__assertFunction(t);var r=this;return new e(regeneratorRuntime.mark(function e(){var n,a,o,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!1,o=!0,i=!1,u=void 0,e.prev=5,s=r[Symbol.iterator]();case 7:if(o=(c=s.next()).done){e.next=17;break}if(l=c.value,a||!t(l,n++)){e.next=11;break}return e.abrupt("continue",14);case 11:return a=!0,e.next=14,l;case 14:o=!0,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),i=!0,u=e.t0;case 23:e.prev=23,e.prev=24,!o&&s.return&&s.return();case 26:if(e.prev=26,!i){e.next=29;break}throw u;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[5,19,23,31],[24,,26,30]])}))}},{key:"skipUntil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return!1};return this.skipWhile(function(t,r){return!e(t,r)})}},{key:"first",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return __assertFunction(e),__assertNotEmpty(this),this.skipWhile(function(t){return!e(t)})[Symbol.iterator]().next().value}},{key:"firstOrDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object;return this.__resultOrDefault(this.first,e,t)}},{key:"last",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return __assertFunction(e),__assertNotEmpty(this),this.reverse().first(e)}},{key:"lastOrDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object;return this.__resultOrDefault(this.last,e,t)}},{key:"single",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};__assertFunction(e),__assertNotEmpty(this);var t=void 0,r=!0,n=!1,a=void 0;try{for(var o,i=this[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;if(e(u)){t=u;break}0}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}if(this.first(function(r){return e(r)&&!__defaultEqualityCompareFn(r,t)}))throw new Error("Sequence contains more than one element");return t}},{key:"singleOrDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object;return this.__resultOrDefault(this.single,e,t)}},{key:"defaultIfEmpty",value:function(t){return __isEmpty(this)?new e([__getDefault(t)]):this}},{key:"concat",value:function(t){__assertIterable(t);var r=this;return new e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(r,"t0",1);case 1:return e.delegateYield(t,"t1",2);case 2:case"end":return e.stop()}},e,this)}))}},{key:"union",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;return __assertIterable(e),this.concat(e).distinct(t)}},{key:"join",value:function(t,r,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:__defaultEqualityCompareFn;__assertIterable(t),__assertFunction(r),__assertFunction(n),__assertFunction(a),__assertFunction(o);var i=this;return new e(regeneratorRuntime.mark(function e(){var u,s,c,l,f,_,v,h,p,y,d,m,b,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=!0,s=!1,c=void 0,e.prev=3,l=i[Symbol.iterator]();case 5:if(u=(f=l.next()).done){e.next=39;break}_=f.value,v=r(_),h=!0,p=!1,y=void 0,e.prev=11,d=t[Symbol.iterator]();case 13:if(h=(m=d.next()).done){e.next=22;break}if(b=m.value,g=n(b),!o(v,g)){e.next=19;break}return e.next=19,a(_,b);case 19:h=!0,e.next=13;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(11),p=!0,y=e.t0;case 28:e.prev=28,e.prev=29,!h&&d.return&&d.return();case 31:if(e.prev=31,!p){e.next=34;break}throw y;case 34:return e.finish(31);case 35:return e.finish(28);case 36:u=!0,e.next=5;break;case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(3),s=!0,c=e.t1;case 45:e.prev=45,e.prev=46,!u&&l.return&&l.return();case 48:if(e.prev=48,!s){e.next=51;break}throw c;case 51:return e.finish(48);case 52:return e.finish(45);case 53:case"end":return e.stop()}},e,this,[[3,41,45,53],[11,24,28,36],[29,,31,35],[46,,48,52]])}))}},{key:"except",value:function(t){__assertIterable(t),__isCollection(t)||(t=new e(t));var r=this;return new e(regeneratorRuntime.mark(function e(){var n,a,o,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,a=!1,o=void 0,e.prev=3,i=r[Symbol.iterator]();case 5:if(n=(u=i.next()).done){e.next=13;break}if(s=u.value,t.contains(s)){e.next=10;break}return e.next=10,s;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),a=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!n&&i.return&&i.return();case 22:if(e.prev=22,!a){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])}))}},{key:"zip",value:function(t,r){__assertIterable(t),__assertFunction(r);var n=this;return new e(regeneratorRuntime.mark(function e(){var a,o,i,u,s,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t[Symbol.iterator](),o=!0,i=!1,u=void 0,e.prev=4,s=n[Symbol.iterator]();case 6:if(o=(c=s.next()).done){e.next=16;break}if(l=c.value,!(f=a.next()).done){e.next=11;break}return e.abrupt("break",16);case 11:return e.next=13,r(l,f.value);case 13:o=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),i=!0,u=e.t0;case 22:e.prev=22,e.prev=23,!o&&s.return&&s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[4,18,22,30],[23,,25,29]])}))}},{key:"intersect",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;__assertIterable(t),__assertFunction(r);var n=this;return new e(regeneratorRuntime.mark(function a(){var o,i,u,s,c,l,f,_,v=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=e.from(t),i=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.any(function(e){return r(t,e)})){e.next=3;break}return e.next=3,t;case 3:case"end":return e.stop()}},e,v)}),u=!0,s=!1,c=void 0,a.prev=5,l=n[Symbol.iterator]();case 7:if(u=(f=l.next()).done){a.next=13;break}return _=f.value,a.delegateYield(i(_),"t0",10);case 10:u=!0,a.next=7;break;case 13:a.next=19;break;case 15:a.prev=15,a.t1=a.catch(5),s=!0,c=a.t1;case 19:a.prev=19,a.prev=20,!u&&l.return&&l.return();case 22:if(a.prev=22,!s){a.next=25;break}throw c;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}},a,this,[[5,15,19,27],[20,,22,26]])}))}},{key:"sequenceEqual",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;if(!__isIterable(e))return!1;var r=this[Symbol.iterator](),n=e[Symbol.iterator](),a=void 0,o=void 0;do{if(a=r.next(),o=n.next(),a.done!=o.done)return!1;if(!a.done&&!t(a.value,o.value))return!1}while(!a.done);return!0}},{key:"groupBy",value:function(t){function r(e){var r=2===__getParameterCount(e),n=u.first();try{var a=t(n);r=r&&e(a,a)&&!e(a,{})}catch(e){r=!1}return r}function n(e){return i(e,function(e){return e},void 0,__defaultEqualityCompareFn)}function a(e,t){var n=void 0,a=void 0;return r(t)?(n=t,a=function(e){return e}):(n=__defaultEqualityCompareFn,a=t),o(e,a,n)}function o(e,t,n){var a=void 0,o=void 0,u=void 0;return r(n)?a=n:u=n,2===__getParameterCount(t)?u=t:o=t,a||(a=__defaultEqualityCompareFn),o||(o=function(e){return e}),i(e,o,u,a)}function i(t,r,n,a){__assertFunction(t),__assertFunction(r),__assert(__isUndefined(n)||__isFunction(n),"resultSelector must be undefined or function!"),__assertFunction(a);var o=new Map,i=!0,s=!1,c=void 0;try{for(var l,f=u[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var _=l.value,v=e.__getEqualKey(o,t(_),a),h=r(_);o.has(v)?o.get(v).push(h):o.set(v,[h])}}catch(e){s=!0,c=e}finally{try{!i&&f.return&&f.return()}finally{if(s)throw c}}return n?e.from(o).select(function(e){return n.apply(void 0,_toConsumableArray(e))}):o}for(var u=this,s=void 0,c=arguments.length,l=Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];switch(l.length){case 0:s=n;break;case 1:s=a;break;case 2:s=o;break;case 3:s=i;break;default:throw new Error("GroupBy parameter count can not be greater than 4!")}return s.apply(void 0,[t].concat(l))}},{key:"groupJoin",value:function(t,r,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:__defaultEqualityCompareFn;__assertIterable(t),__assertFunction(r),__assertFunction(n),__assertFunction(a);var i=new Map,u=function(a){var u=r(a);i.set(a,new e(regeneratorRuntime.mark(function e(){var r,a,i,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,a=!1,i=void 0,e.prev=3,s=t[Symbol.iterator]();case 5:if(r=(c=s.next()).done){e.next=13;break}if(l=c.value,!o(u,n(l))){e.next=10;break}return e.next=10,l;case 10:r=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!r&&s.return&&s.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])})))},s=!0,c=!1,l=void 0;try{for(var f,_=this[Symbol.iterator]();!(s=(f=_.next()).done);s=!0){u(f.value)}}catch(e){c=!0,l=e}finally{try{!s&&_.return&&_.return()}finally{if(c)throw l}}return new e(regeneratorRuntime.mark(function e(){var t,r,n,o,u,s,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=!1,n=void 0,e.prev=3,o=i[Symbol.iterator]();case 5:if(t=(u=o.next()).done){e.next=15;break}return s=u.value,c=_slicedToArray(s,2),l=c[0],f=c[1],e.next=12,a(l,f);case 12:t=!0,e.next=5;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),r=!0,n=e.t0;case 21:e.prev=21,e.prev=22,!t&&o.return&&o.return();case 24:if(e.prev=24,!r){e.next=27;break}throw n;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[3,17,21,29],[22,,24,28]])}))}},{key:"add",value:function(e){this.insert(e,this.count())}},{key:"insert",value:function(e,t){var r=this.toArray();__assert(t>=0&&t<=r.length,"Index is out of bounds!"),this.__iterable=regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(r.slice(0,t),"t0",1);case 1:return n.next=3,e;case 3:return n.delegateYield(r.slice(t,r.length),"t1",4);case 4:case"end":return n.stop()}},n,this)})}},{key:"remove",value:function(e){var t=this.toArray();return!!__removeFromArray(t,e)&&(this.__iterable=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t,"t0",1);case 1:case"end":return e.stop()}},e,this)}),!0)}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return __assertFunction(e),__assertNotEmpty(this),this.select(e).aggregate(function(e,t){return e<t?e:t})}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return __assertFunction(e),__assertNotEmpty(this),this.select(e).aggregate(function(e,t){return e>t?e:t})}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return __assertNotEmpty(this),this.select(e).aggregate(0,function(e,t){return e+t})}},{key:"average",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return __assertNotEmpty(this),this.sum(e)/this.count()}},{key:"order",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultComparator;return this.orderBy(function(e){return e},e)}},{key:"orderDescending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultComparator;return this.orderByDescending(function(e){return e},e)}},{key:"orderBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultComparator;return __assertFunction(t),new __OrderedCollection(this,__getComparatorFromKeySelector(e,t))}},{key:"orderByDescending",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultComparator;return new __OrderedCollection(this,__getComparatorFromKeySelector(e,function(e,r){return t(r,e)}))}},{key:"shuffle",value:function(){return this.orderBy(function(){return Math.floor(3*Math.random())-1})}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;__assertFunction(t);var r=0,n=!0,a=!1,o=void 0;try{for(var i,u=this[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){if(t(i.value,e))return r;r++}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return-1}},{key:"lastIndexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;__assertFunction(t);var r=0,n=-1,a=!0,o=!1,i=void 0;try{for(var u,s=this[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){t(u.value,e)&&(n=r),r++}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}},{key:"contains",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__defaultEqualityCompareFn;return!!~this.indexOf(e,t)}},{key:"where",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return!0};__assertFunction(t);var r=this;return new e(regeneratorRuntime.mark(function e(){var n,a,o,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!0,o=!1,i=void 0,e.prev=4,u=r[Symbol.iterator]();case 6:if(a=(s=u.next()).done){e.next=15;break}if(c=s.value,!t(c,n)){e.next=11;break}return e.next=11,c;case 11:n++;case 12:a=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),o=!0,i=e.t0;case 21:e.prev=21,e.prev=22,!a&&u.return&&u.return();case 24:if(e.prev=24,!o){e.next=27;break}throw i;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[4,17,21,29],[22,,24,28]])}))}},{key:"conditionalWhere",value:function(e,t){return e?this.where(t):this}},{key:"count",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=0,r=this.where(e)[Symbol.iterator]();!r.next().done;)t++;return t}},{key:"any",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!__isEmpty(this)&&(!e||!this.where(e)[Symbol.iterator]().next().done)}},{key:"all",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return __assertFunction(e),!this.any(function(t){return!e(t)})}},{key:"aggregate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!__isFunction(e)||t||r?__isFunction(e)||!__isFunction(t)||r?__aggregateCollection(this,e,t,r):__aggregateCollection(this,e,t,function(e){return e}):__aggregateCollection(this.skip(1),this.first(),e,function(e){return e})}},{key:"select",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},r=this,n=0;return new e(regeneratorRuntime.mark(function e(){var a,o,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,o=!1,i=void 0,e.prev=3,u=r[Symbol.iterator]();case 5:if(a=(s=u.next()).done){e.next=13;break}return c=s.value,e.next=9,t(c,n);case 9:n++;case 10:a=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),o=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!a&&u.return&&u.return();case 22:if(e.prev=22,!o){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])}))}},{key:"flatten",value:function(){return this.selectMany(function(e){return e})}},{key:"selectMany",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return t};__assertFunction(t),__assertFunction(r);var n=this;return new e(regeneratorRuntime.mark(function e(){var a,o,i,u,s,c,l,f,_,v,h,p,y,d,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0,o=!0,i=!1,u=void 0,e.prev=4,s=n[Symbol.iterator]();case 6:if(o=(c=s.next()).done){e.next=41;break}l=c.value,f=t(l,a),_=f,_=__isIterable(f)?f:[f],v=!0,h=!1,p=void 0,e.prev=14,y=_[Symbol.iterator]()[Symbol.iterator]();case 16:if(v=(d=y.next()).done){e.next=23;break}return m=d.value,e.next=20,r(l,m);case 20:v=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(14),h=!0,p=e.t0;case 29:e.prev=29,e.prev=30,!v&&y.return&&y.return();case 32:if(e.prev=32,!h){e.next=35;break}throw p;case 35:return e.finish(32);case 36:return e.finish(29);case 37:a++;case 38:o=!0,e.next=6;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(4),i=!0,u=e.t1;case 47:e.prev=47,e.prev=48,!o&&s.return&&s.return();case 50:if(e.prev=50,!i){e.next=53;break}throw u;case 53:return e.finish(50);case 54:return e.finish(47);case 55:case"end":return e.stop()}},e,this,[[4,43,47,55],[14,25,29,37],[30,,32,36],[48,,50,54]])}))}},{key:"distinct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:__defaultEqualityCompareFn;return __assertFunction(e),__removeDuplicates(this,e)}},{key:"toArray",value:function(){return[].concat(_toConsumableArray(this))}},{key:"toDictionary",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(__assertFunction(t),!r&&!n)return this.toDictionary(t,function(e){return e},__defaultEqualityCompareFn);if(!n&&1===__getParameterCount(r))return this.toDictionary(t,r,__defaultEqualityCompareFn);if(!n&&2===__getParameterCount(r))return this.toDictionary(t,function(e){return e},r);__assertFunction(n),__assertFunction(r);var a=[],o=new Map,i=function(i){var u=t(i),s=r(i);__assert(null!=u,"Key is not allowed to be null!"),__assert(!e.from(a).any(function(e){return n(e,u)}),"Key '"+u+"' is already in use!"),a.push(u),o.set(u,s)},u=!0,s=!1,c=void 0;try{for(var l,f=this[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){i(l.value)}}catch(e){s=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw c}}return o}},{key:"toLookup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return __assertFunction(e),t||r?(r||1!==__getParameterCount(t))&&(r||2!==__getParameterCount(t))?(__assertFunction(r),__assertFunction(t),this.groupBy(e,t,r)):this.groupBy(e,t):this.groupBy(e)}},{key:"reverse",value:function(){var t=this.toArray();return new e(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.length-1;case 1:if(!(r>=0)){e.next=7;break}return e.next=4,t[r];case 4:r--,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}))}},{key:"forEach",value:function(e){__assertFunction(e);var t=!0,r=!1,n=void 0;try{for(var a,o=this[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){e(a.value)}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}}}],[{key:"__getEqualKey",value:function(e,t,r){var n=!0,a=!1,o=void 0;try{for(var i,u=e.keys()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;if(r(s,t))return s}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return t}},{key:"from",value:function(t){return new e(t)}},{key:"range",value:function(t,r){return __assertNumberBetween(r,0,1/0),new e(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t;case 1:if(n==r+t){e.next=6;break}return e.next=4,n++;case 4:e.next=1;break;case 6:case"end":return e.stop()}},e,this)}))}},{key:"repeat",value:function(t,r){return __assertNumberBetween(r,0,1/0),new e(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<r)){e.next=7;break}return e.next=4,t;case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}))}},{key:"empty",get:function(){return new e([])}}]),e}(),__HeapElement=function(){function e(t,r){_classCallCheck(this,e),this.__index=t,this.__value=r}return _createClass(e,null,[{key:"__createHeapElement",value:function(t,r){return void 0===r||r instanceof e?r:new e(t,r)}}]),e}(),_MinHeap=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultComparator;_classCallCheck(this,e),__assertArray(t),__assertFunction(r),this.__elements=t,this.__comparator=function(e,t){var n=r(e.__value,t.__value);return 0!==n?n:defaultComparator(e.__index,t.__index)},this.__createHeap(this.__elements,this.__comparator)}return _createClass(e,[{key:"__heapify",value:function(e,t,r){var n=2*(r+1),a=n-1,o=r;if(e[o]=__HeapElement.__createHeapElement(o,e[o]),a<e.length&&(e[a]=__HeapElement.__createHeapElement(a,e[a]),t(e[a],e[o])<0&&(o=a)),n<e.length&&(e[n]=__HeapElement.__createHeapElement(n,e[n]),t(e[n],e[o])<0&&(o=n)),o!==r){var i=e[r];e[r]=e[o],e[o]=i,this.__heapify(e,t,o)}}},{key:"__createHeap",value:function(e,t){if(0!==e.length)for(var r=Math.floor(e.length/2);r>=0;r--)this.__heapify(e,t,r)}},{key:"__hasTopElement",value:function(){return this.__elements.length>0}},{key:"__getTopElement",value:function(){if(1===this.__elements.length)return this.__elements.pop().__value;var e=this.__elements[0];return this.__elements[0]=this.__elements.pop(),this.__heapify(this.__elements,this.__comparator,0),e.__value}},{key:Symbol.iterator,value:function(){var e=this;return{next:function(){return e.__hasTopElement()?{done:!1,value:e.__getTopElement()}:{done:!0,value:void 0}}}}}]),e}();exports._MinHeap=_MinHeap;var __OrderedCollection=function(e){function t(e,r){_classCallCheck(this,t),__assertFunction(r);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.__comparator=r,n}return _inherits(t,__Collection),_createClass(t,[{key:"thenBy",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultComparator,n=this.__comparator,a=__getComparatorFromKeySelector(e,r);return new t(this.__iterable,function(e,t){var r=n(e,t);return 0!==r?r:a(e,t)})}},{key:"thenByDescending",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultComparator;return this.thenBy(e,function(e,r){return t(r,e)})}},{key:Symbol.iterator,value:function(){var e=this,r=_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),Symbol.iterator,this).bind(this);return regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new _MinHeap([].concat(_toConsumableArray(_defineProperty({},Symbol.iterator,r))),e.__comparator),"t0",1);case 1:case"end":return t.stop()}},t,this)})()}}]),t}();exports.Collection=__Collection,exports.default=exports.Collection,exports.extendIterablePrototype=extendIterablePrototype,exports.extendNativeTypes=extendNativeTypes;