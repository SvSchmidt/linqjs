"use strict";var _get=function e(r,t,n){null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,t);if(void 0===a){var i=Object.getPrototypeOf(r);return null===i?void 0:e(i,t,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},_slicedToArray=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}define(["require","exports"],function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=function(e){function r(e,t){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"Expected "+e+", got "+t+"!"))}return _inherits(r,Error),r}();function n(e){if(!e)throw 2==(arguments.length<=1?0:arguments.length-1)?new t(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):new Error(arguments.length<=1?void 0:arguments[1])}function a(e){n(p(e),"function",e)}function i(e){n(h(e),"array",e)}function o(e){n(!d(e),"Sequence is empty!")}function u(e){n(b(e),"iterable",e)}function c(e){n(y(e),"numeric value",e)}function s(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;c(e),n(e>=r&&e<=t,"Number must be between "+r+" and "+t+"!")}function l(e,r){var t;n(_(t=e),"collection",t),n(y(r),"number",r),n(r>=0&&r<e.count(),"Index is out of bounds")}function f(e,r){return e===r}function v(e,r){return e<r?-1:r<e?1:0}function h(e){return e instanceof Array}function p(e){return"function"==typeof e}function y(e){return!isNaN(parseFloat(e))}function d(e){return e[Symbol.iterator]().next().done}function b(e){return Symbol.iterator in Object(e)}function m(e){return"string"==typeof e}function _(e){return e instanceof D}function k(e){return e instanceof regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}).constructor}function g(e){return"undefined"===(void 0===e?"undefined":_typeof(e))}function x(e){return!S(e)&&p(e)&&1==E(e)}r.__AssertionError=t,r.__assert=n,r.__assertFunction=a,r.__assertArray=i,r.__assertNotEmpty=o,r.__assertIterable=u,r.__assertNumeric=c,r.__assertNumberBetween=s,r.__assertIndexInRange=l,r.__defaultEqualityCompareFn=f,r.defaultComparator=v,r.__isArray=h,r.__isFunction=p,r.__isNumeric=y,r.__isEmpty=d,r.__isIterable=b,r.__isString=m,r.__isCollection=_,r.__isGenerator=k,r.__isUndefined=g,r.__isPredicate=x;var w=[Object,Number,Boolean,String,Symbol];function S(e){return/native code/.test(Object(e).toString())||!!~w.indexOf(e)}function O(e,r,t,n){a(t),a(n);var i=r,o=!0,u=!1,c=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){i=t(i,s.value)}}catch(e){u=!0,c=e}finally{try{!o&&l.return&&l.return()}finally{if(u)throw c}}return n(i)}function R(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;u(e),a(r);var t=[];return new D(regeneratorRuntime.mark(function n(){var a,i,o,u,c,s,l,f,v,h,p,y;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=!0,i=!1,o=void 0,n.prev=3,u=e[Symbol.iterator]();case 5:if(a=(c=u.next()).done){n.next=39;break}s=c.value,l=!0,f=!1,v=void 0,n.prev=10,h=t[Symbol.iterator]();case 12:if(l=(p=h.next()).done){n.next=19;break}if(y=p.value,!r(s,y)){n.next=16;break}return n.abrupt("continue",36);case 16:l=!0,n.next=12;break;case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(10),f=!0,v=n.t0;case 25:n.prev=25,n.prev=26,!l&&h.return&&h.return();case 28:if(n.prev=28,!f){n.next=31;break}throw v;case 31:return n.finish(28);case 32:return n.finish(25);case 33:return t.push(s),n.next=36,s;case 36:a=!0,n.next=5;break;case 39:n.next=45;break;case 41:n.prev=41,n.t1=n.catch(3),i=!0,o=n.t1;case 45:n.prev=45,n.prev=46,!a&&u.return&&u.return();case 48:if(n.prev=48,!i){n.next=51;break}throw o;case 51:return n.finish(48);case 52:return n.finish(45);case 53:case"end":return n.stop()}},n,this,[[3,41,45,53],[10,21,25,33],[26,,28,32],[46,,48,52]])}))}function C(e,r){i(e);for(var t=[],n=void 0,a=void 0;(a=e.shift())&&!(n=f(a,r));)t.push(a);return e.unshift.apply(e,t),n}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object;if(e&&S(e)&&"function"==typeof e){var r=e();return r instanceof Object||e===Date?null:r}return e}function E(e){return a(e),e.length}function j(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(p(e))return new Function("comparator","keySelectorFn","a","b","return comparator(keySelectorFn(a), keySelectorFn(b))").bind(null,r,e);if(m(e))return e.startsWith("[")||e.startsWith(".")||(e="."+e),new Function("comparator","a","b","return comparator(a"+e+", b"+e+")").bind(null,r);throw new t("string or function",e)}r.__isNative=S,r.__aggregateCollection=O,r.__removeDuplicates=R,r.__removeFromArray=C,r.__getDefault=A,r.__getParameterCount=E,r.__getComparatorFromKeySelector=j;var D=function(){function e(r){_classCallCheck(this,e),this.__iterable=null,n(b(r)||k(r),"iterable or generator",r),this.__iterable=r}return _createClass(e,[{key:Symbol.iterator,value:function(){var e=this.__iterable;return k(e)?e():regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(e,"t0",1);case 1:case"end":return r.stop()}},r,this)})()}},{key:"__resultOrDefault",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object,n=void 0;x(r)?n=r:(n=function(e){return!0},t=r),a(n);var i=A(t);if(d(this))return i;var o=e.call(this,n);return o||i}},{key:"elementAt",value:function(e){return l(this,e),this.skip(e).first()}},{key:"take",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(c(r),r<=0)return e.empty;var t=this;return new e(regeneratorRuntime.mark(function e(){var n,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!0,i=!1,o=void 0,e.prev=4,u=t[Symbol.iterator]();case 6:if(a=(c=u.next()).done){e.next=15;break}return s=c.value,e.next=10,s;case 10:if(++n!==r){e.next=12;break}return e.abrupt("break",15);case 12:a=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),i=!0,o=e.t0;case 21:e.prev=21,e.prev=22,!a&&u.return&&u.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[4,17,21,29],[22,,24,28]])}))}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return c(e),e<=0?this:this.skipWhile(function(r,t){return t<e})}},{key:"takeWhile",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,r){return!0};a(r);var t=this;return new e(regeneratorRuntime.mark(function e(){var n,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!0,i=!1,o=void 0,e.prev=4,u=t[Symbol.iterator]();case 6:if(a=(c=u.next()).done){e.next=17;break}if(s=c.value,!r(s,n++)){e.next=13;break}return e.next=11,s;case 11:e.next=14;break;case 13:return e.abrupt("break",17);case 14:a=!0,e.next=6;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),i=!0,o=e.t0;case 23:e.prev=23,e.prev=24,!a&&u.return&&u.return();case 26:if(e.prev=26,!i){e.next=29;break}throw o;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[4,19,23,31],[24,,26,30]])}))}},{key:"takeUntil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,r){return!1};return this.takeWhile(function(r,t){return!e(r,t)})}},{key:"skipWhile",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,r){return!0};a(r);var t=this;return new e(regeneratorRuntime.mark(function e(){var n,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!1,i=!0,o=!1,u=void 0,e.prev=5,c=t[Symbol.iterator]();case 7:if(i=(s=c.next()).done){e.next=17;break}if(l=s.value,a||!r(l,n++)){e.next=11;break}return e.abrupt("continue",14);case 11:return a=!0,e.next=14,l;case 14:i=!0,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),o=!0,u=e.t0;case 23:e.prev=23,e.prev=24,!i&&c.return&&c.return();case 26:if(e.prev=26,!o){e.next=29;break}throw u;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[5,19,23,31],[24,,26,30]])}))}},{key:"skipUntil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,r){return!1};return this.skipWhile(function(r,t){return!e(r,t)})}},{key:"first",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return a(e),o(this),this.skipWhile(function(r){return!e(r)})[Symbol.iterator]().next().value}},{key:"firstOrDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object;return this.__resultOrDefault(this.first,e,r)}},{key:"last",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return a(e),o(this),this.reverse().first(e)}},{key:"lastOrDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object;return this.__resultOrDefault(this.last,e,r)}},{key:"single",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};a(e),o(this);var r=void 0,t=!0,n=!1,i=void 0;try{for(var u,c=this[Symbol.iterator]();!(t=(u=c.next()).done);t=!0){var s=u.value;if(e(s)){r=s;break}0}}catch(e){n=!0,i=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw i}}if(this.first(function(t){return e(t)&&!f(t,r)}))throw new Error("Sequence contains more than one element");return r}},{key:"singleOrDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object;return this.__resultOrDefault(this.single,e,r)}},{key:"defaultIfEmpty",value:function(r){return d(this)?new e([A(r)]):this}},{key:"concat",value:function(r){u(r);var t=this;return new e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t,"t0",1);case 1:return e.delegateYield(r,"t1",2);case 2:case"end":return e.stop()}},e,this)}))}},{key:"union",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return u(e),this.concat(e).distinct(r)}},{key:"join",value:function(r,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f;u(r),a(t),a(n),a(i),a(o);var c=this;return new e(regeneratorRuntime.mark(function e(){var a,u,s,l,f,v,h,p,y,d,b,m,_,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,u=!1,s=void 0,e.prev=3,l=c[Symbol.iterator]();case 5:if(a=(f=l.next()).done){e.next=39;break}v=f.value,h=t(v),p=!0,y=!1,d=void 0,e.prev=11,b=r[Symbol.iterator]();case 13:if(p=(m=b.next()).done){e.next=22;break}if(_=m.value,k=n(_),!o(h,k)){e.next=19;break}return e.next=19,i(v,_);case 19:p=!0,e.next=13;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(11),y=!0,d=e.t0;case 28:e.prev=28,e.prev=29,!p&&b.return&&b.return();case 31:if(e.prev=31,!y){e.next=34;break}throw d;case 34:return e.finish(31);case 35:return e.finish(28);case 36:a=!0,e.next=5;break;case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(3),u=!0,s=e.t1;case 45:e.prev=45,e.prev=46,!a&&l.return&&l.return();case 48:if(e.prev=48,!u){e.next=51;break}throw s;case 51:return e.finish(48);case 52:return e.finish(45);case 53:case"end":return e.stop()}},e,this,[[3,41,45,53],[11,24,28,36],[29,,31,35],[46,,48,52]])}))}},{key:"except",value:function(r){u(r),_(r)||(r=new e(r));var t=this;return new e(regeneratorRuntime.mark(function e(){var n,a,i,o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,a=!1,i=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(n=(u=o.next()).done){e.next=13;break}if(c=u.value,r.contains(c)){e.next=10;break}return e.next=10,c;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!n&&o.return&&o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])}))}},{key:"zip",value:function(r,t){u(r),a(t);var n=this;return new e(regeneratorRuntime.mark(function e(){var a,i,o,u,c,s,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=r[Symbol.iterator](),i=!0,o=!1,u=void 0,e.prev=4,c=n[Symbol.iterator]();case 6:if(i=(s=c.next()).done){e.next=16;break}if(l=s.value,!(f=a.next()).done){e.next=11;break}return e.abrupt("break",16);case 11:return e.next=13,t(l,f.value);case 13:i=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),o=!0,u=e.t0;case 22:e.prev=22,e.prev=23,!i&&c.return&&c.return();case 25:if(e.prev=25,!o){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[4,18,22,30],[23,,25,29]])}))}},{key:"intersect",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;u(r),a(t);var n=this;return new e(regeneratorRuntime.mark(function a(){var i,o,u,c,s,l,f,v,h=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=e.from(r),o=regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.any(function(e){return t(r,e)})){e.next=3;break}return e.next=3,r;case 3:case"end":return e.stop()}},e,h)}),u=!0,c=!1,s=void 0,a.prev=5,l=n[Symbol.iterator]();case 7:if(u=(f=l.next()).done){a.next=13;break}return v=f.value,a.delegateYield(o(v),"t0",10);case 10:u=!0,a.next=7;break;case 13:a.next=19;break;case 15:a.prev=15,a.t1=a.catch(5),c=!0,s=a.t1;case 19:a.prev=19,a.prev=20,!u&&l.return&&l.return();case 22:if(a.prev=22,!c){a.next=25;break}throw s;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}},a,this,[[5,15,19,27],[20,,22,26]])}))}},{key:"sequenceEqual",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;if(!b(e))return!1;var t=this[Symbol.iterator](),n=e[Symbol.iterator](),a=void 0,i=void 0;do{if(a=t.next(),i=n.next(),a.done!=i.done)return!1;if(!a.done&&!r(a.value,i.value))return!1}while(!a.done);return!0}},{key:"groupBy",value:function(r){var t=this;function i(e){var n=2===E(e),a=t.first();try{var i=r(a);n=n&&e(i,i)&&!e(i,{})}catch(e){n=!1}return n}function o(e,r,t){var n=void 0,a=void 0,o=void 0;return i(t)?n=t:o=t,2===E(r)?o=r:a=r,n||(n=f),a||(a=function(e){return e}),u(e,a,o,n)}function u(r,i,o,u){a(r),a(i),n(g(o)||p(o),"resultSelector must be undefined or function!"),a(u);var c=new Map,s=!0,l=!1,f=void 0;try{for(var v,h=t[Symbol.iterator]();!(s=(v=h.next()).done);s=!0){var y=v.value,d=e.__getEqualKey(c,r(y),u),b=i(y);c.has(d)?c.get(d).push(b):c.set(d,[b])}}catch(e){l=!0,f=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw f}}return o?e.from(c).select(function(e){return o.apply(void 0,_toConsumableArray(e))}):c}for(var c=void 0,s=arguments.length,l=Array(s>1?s-1:0),v=1;v<s;v++)l[v-1]=arguments[v];switch(l.length){case 0:c=function(e){return u(e,function(e){return e},void 0,f)};break;case 1:c=function(e,r){var t=void 0,n=void 0;return i(r)?(t=r,n=function(e){return e}):(t=f,n=r),o(e,n,t)};break;case 2:c=o;break;case 3:c=u;break;default:throw new Error("GroupBy parameter count can not be greater than 4!")}return c.apply(void 0,[r].concat(l))}},{key:"groupJoin",value:function(r,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f;u(r),a(t),a(n),a(i);var c=new Map,s=function(a){var i=t(a);c.set(a,new e(regeneratorRuntime.mark(function e(){var t,a,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,a=!1,u=void 0,e.prev=3,c=r[Symbol.iterator]();case 5:if(t=(s=c.next()).done){e.next=13;break}if(l=s.value,!o(i,n(l))){e.next=10;break}return e.next=10,l;case 10:t=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),a=!0,u=e.t0;case 19:e.prev=19,e.prev=20,!t&&c.return&&c.return();case 22:if(e.prev=22,!a){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])})))},l=!0,v=!1,h=void 0;try{for(var p,y=this[Symbol.iterator]();!(l=(p=y.next()).done);l=!0){s(p.value)}}catch(e){v=!0,h=e}finally{try{!l&&y.return&&y.return()}finally{if(v)throw h}}return new e(regeneratorRuntime.mark(function e(){var r,t,n,a,o,u,s,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,t=!1,n=void 0,e.prev=3,a=c[Symbol.iterator]();case 5:if(r=(o=a.next()).done){e.next=15;break}return u=o.value,s=_slicedToArray(u,2),l=s[0],f=s[1],e.next=12,i(l,f);case 12:r=!0,e.next=5;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),t=!0,n=e.t0;case 21:e.prev=21,e.prev=22,!r&&a.return&&a.return();case 24:if(e.prev=24,!t){e.next=27;break}throw n;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[3,17,21,29],[22,,24,28]])}))}},{key:"add",value:function(e){this.insert(e,this.count())}},{key:"insert",value:function(e,r){var t=this.toArray();n(r>=0&&r<=t.length,"Index is out of bounds!"),this.__iterable=regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(t.slice(0,r),"t0",1);case 1:return n.next=3,e;case 3:return n.delegateYield(t.slice(r,t.length),"t1",4);case 4:case"end":return n.stop()}},n,this)})}},{key:"remove",value:function(e){var r=this.toArray();return!!C(r,e)&&(this.__iterable=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(r,"t0",1);case 1:case"end":return e.stop()}},e,this)}),!0)}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return a(e),o(this),this.select(e).aggregate(function(e,r){return e<r?e:r})}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return a(e),o(this),this.select(e).aggregate(function(e,r){return e>r?e:r})}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return o(this),this.select(e).aggregate(0,function(e,r){return e+r})}},{key:"average",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return o(this),this.sum(e)/this.count()}},{key:"order",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return this.orderBy(function(e){return e},e)}},{key:"orderDescending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return this.orderByDescending(function(e){return e},e)}},{key:"orderBy",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return a(r),new I(this,j(e,r))}},{key:"orderByDescending",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return new I(this,j(e,function(e,t){return r(t,e)}))}},{key:"shuffle",value:function(){return this.orderBy(function(){return Math.floor(3*Math.random())-1})}},{key:"indexOf",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;a(r);var t=0,n=!0,i=!1,o=void 0;try{for(var u,c=this[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){if(r(u.value,e))return t;t++}}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return-1}},{key:"lastIndexOf",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;a(r);var t=0,n=-1,i=!0,o=!1,u=void 0;try{for(var c,s=this[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){r(c.value,e)&&(n=t),t++}}catch(e){o=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw u}}return n}},{key:"contains",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return!!~this.indexOf(e,r)}},{key:"where",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,r){return!0};a(r);var t=this;return new e(regeneratorRuntime.mark(function e(){var n,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=!0,i=!1,o=void 0,e.prev=4,u=t[Symbol.iterator]();case 6:if(a=(c=u.next()).done){e.next=15;break}if(s=c.value,!r(s,n)){e.next=11;break}return e.next=11,s;case 11:n++;case 12:a=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),i=!0,o=e.t0;case 21:e.prev=21,e.prev=22,!a&&u.return&&u.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[4,17,21,29],[22,,24,28]])}))}},{key:"conditionalWhere",value:function(e,r){return e?this.where(r):this}},{key:"count",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},r=0,t=this.where(e)[Symbol.iterator]();!t.next().done;)r++;return r}},{key:"any",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!d(this)&&(!e||!this.where(e)[Symbol.iterator]().next().done)}},{key:"all",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return a(e),!this.any(function(r){return!e(r)})}},{key:"aggregate",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!p(e)||r||t?p(e)||!p(r)||t?O(this,e,r,t):O(this,e,r,function(e){return e}):O(this.skip(1),this.first(),e,function(e){return e})}},{key:"select",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=this,n=0;return new e(regeneratorRuntime.mark(function e(){var a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,i=!1,o=void 0,e.prev=3,u=t[Symbol.iterator]();case 5:if(a=(c=u.next()).done){e.next=13;break}return s=c.value,e.next=9,r(s,n);case 9:n++;case 10:a=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!a&&u.return&&u.return();case 22:if(e.prev=22,!i){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])}))}},{key:"flatten",value:function(){return this.selectMany(function(e){return e})}},{key:"selectMany",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,r){return r};a(r),a(t);var n=this;return new e(regeneratorRuntime.mark(function e(){var a,i,o,u,c,s,l,f,v,h,p,y,d,m,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0,i=!0,o=!1,u=void 0,e.prev=4,c=n[Symbol.iterator]();case 6:if(i=(s=c.next()).done){e.next=41;break}l=s.value,f=r(l,a),v=f,v=b(f)?f:[f],h=!0,p=!1,y=void 0,e.prev=14,d=v[Symbol.iterator]()[Symbol.iterator]();case 16:if(h=(m=d.next()).done){e.next=23;break}return _=m.value,e.next=20,t(l,_);case 20:h=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(14),p=!0,y=e.t0;case 29:e.prev=29,e.prev=30,!h&&d.return&&d.return();case 32:if(e.prev=32,!p){e.next=35;break}throw y;case 35:return e.finish(32);case 36:return e.finish(29);case 37:a++;case 38:i=!0,e.next=6;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(4),o=!0,u=e.t1;case 47:e.prev=47,e.prev=48,!i&&c.return&&c.return();case 50:if(e.prev=50,!o){e.next=53;break}throw u;case 53:return e.finish(50);case 54:return e.finish(47);case 55:case"end":return e.stop()}},e,this,[[4,43,47,55],[14,25,29,37],[30,,32,36],[48,,50,54]])}))}},{key:"distinct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return a(e),R(this,e)}},{key:"toArray",value:function(){return[].concat(_toConsumableArray(this))}},{key:"toDictionary",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(a(r),!t&&!i)return this.toDictionary(r,function(e){return e},f);if(!i&&1===E(t))return this.toDictionary(r,t,f);if(!i&&2===E(t))return this.toDictionary(r,function(e){return e},t);a(i),a(t);var o=[],u=new Map,c=function(a){var c=r(a),s=t(a);n(null!=c,"Key is not allowed to be null!"),n(!e.from(o).any(function(e){return i(e,c)}),"Key '"+c+"' is already in use!"),o.push(c),u.set(c,s)},s=!0,l=!1,v=void 0;try{for(var h,p=this[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){c(h.value)}}catch(e){l=!0,v=e}finally{try{!s&&p.return&&p.return()}finally{if(l)throw v}}return u}},{key:"toLookup",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a(e),r||t?(t||1!==E(r))&&(t||2!==E(r))?(a(t),a(r),this.groupBy(e,r,t)):this.groupBy(e,r):this.groupBy(e)}},{key:"reverse",value:function(){var r=this.toArray();return new e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length-1;case 1:if(!(t>=0)){e.next=7;break}return e.next=4,r[t];case 4:t--,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}))}},{key:"forEach",value:function(e){a(e);var r=!0,t=!1,n=void 0;try{for(var i,o=this[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){e(i.value)}}catch(e){t=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(t)throw n}}}}],[{key:"__getEqualKey",value:function(e,r,t){var n=!0,a=!1,i=void 0;try{for(var o,u=e.keys()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;if(t(c,r))return c}}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}},{key:"from",value:function(r){return new e(r)}},{key:"range",value:function(r,t){return s(t,0,1/0),new e(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r;case 1:if(n==t+r){e.next=6;break}return e.next=4,n++;case 4:e.next=1;break;case 6:case"end":return e.stop()}},e,this)}))}},{key:"repeat",value:function(r,t){return s(t,0,1/0),new e(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t)){e.next=7;break}return e.next=4,r;case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}))}},{key:"empty",get:function(){return new e([])}}]),e}();r.__Collection=D;var P=function(){function e(r,t){_classCallCheck(this,e),this.__index=r,this.__value=t}return _createClass(e,null,[{key:"__createHeapElement",value:function(r,t){return void 0===t||t instanceof e?t:new e(r,t)}}]),e}(),B=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;_classCallCheck(this,e),i(r),a(t),this.__elements=r,this.__comparator=function(e,r){var n=t(e.__value,r.__value);return 0!==n?n:v(e.__index,r.__index)},this.__createHeap(this.__elements,this.__comparator)}return _createClass(e,[{key:"__heapify",value:function(e,r,t){var n=2*(t+1),a=n-1,i=t;if(e[i]=P.__createHeapElement(i,e[i]),a<e.length&&(e[a]=P.__createHeapElement(a,e[a]),r(e[a],e[i])<0&&(i=a)),n<e.length&&(e[n]=P.__createHeapElement(n,e[n]),r(e[n],e[i])<0&&(i=n)),i!==t){var o=e[t];e[t]=e[i],e[i]=o,this.__heapify(e,r,i)}}},{key:"__createHeap",value:function(e,r){if(0!==e.length)for(var t=Math.floor(e.length/2);t>=0;t--)this.__heapify(e,r,t)}},{key:"__hasTopElement",value:function(){return this.__elements.length>0}},{key:"__getTopElement",value:function(){if(1===this.__elements.length)return this.__elements.pop().__value;var e=this.__elements[0];return this.__elements[0]=this.__elements.pop(),this.__heapify(this.__elements,this.__comparator,0),e.__value}},{key:Symbol.iterator,value:function(){var e=this;return{next:function(){return e.__hasTopElement()?{done:!1,value:e.__getTopElement()}:{done:!0,value:void 0}}}}}]),e}();r.__MinHeap=B;var I=function(e){function r(e,t){_classCallCheck(this,r),a(t);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.__comparator=t,n}return _inherits(r,D),_createClass(r,[{key:"thenBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=this.__comparator,a=j(e,t);return new r(this.__iterable,function(e,r){var t=n(e,r);return 0!==t?t:a(e,r)})}},{key:"thenByDescending",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return this.thenBy(e,function(e,t){return r(t,e)})}},{key:Symbol.iterator,value:function(){var e=this,t=_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),Symbol.iterator,this).bind(this);return regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(new B([].concat(_toConsumableArray(_defineProperty({},Symbol.iterator,t))),e.__comparator),"t0",1);case 1:case"end":return r.stop()}},r,this)})()}}]),r}();function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push("constructor");var n=r.Collection.from(t),a=[],i=!0,o=!1,u=void 0;try{for(var c,s=Object.getOwnPropertyNames(Object.getPrototypeOf(r.Collection.empty))[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value;if(!l.startsWith("_")&&!n.contains(l)&&p(r.Collection.empty[l])){if(l in e)throw new Error('The method "'+l+'" already exists on the "'+(e.constructor&&e.constructor.name)+'" prototype. Use the exclude parameter to patch without this method.');a.push(l)}}}catch(e){o=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw u}}var f=function(t){e[t]=function(){for(var e,n=r.Collection.from(this),a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n[t]).call.apply(e,[n].concat(i))}},v=!0,h=!1,y=void 0;try{for(var d,b=a[Symbol.iterator]();!(v=(d=b.next()).done);v=!0){f(d.value)}}catch(e){h=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(h)throw y}}}r.__OrderedCollection=I,r.Collection=D,r.default=r.Collection,r.extendIterablePrototype=F,r.extendNativeTypes=function(){F(Array.prototype,["concat","forEach","indexOf","join","lastIndexOf","reverse"]);var e=Array.prototype.join;Array.prototype.join=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if(4==n.length||5==n.length){var i,o=r.Collection.from(this);return(i=o.join).call.apply(i,[o].concat(n))}return e.call.apply(e,[this].concat(n))};var t=Array.prototype.indexOf;Array.prototype.indexOf=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];if(2==n.length&&p(n[1])){var i,o=r.Collection.from(this);return(i=o.indexOf).call.apply(i,[o].concat(n))}return t.call.apply(t,[this].concat(n))};var n=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(2==t.length&&p(t[1])){var i,o=r.Collection.from(this);return(i=o.lastIndexOf).call.apply(i,[o].concat(t))}return n.call.apply(n,[this].concat(t))},F(Map.prototype,["add","forEach"]),F(Set.prototype,["add","forEach"])}});