/*!
 * linqjs v0.0.0
 * (c) Sven Schmidt 
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}!function(){var a=this||(0,eval)("this");!function(b){try{"function"==typeof define&&define.amd?define(["require","exports"],b):exports&&module&&module.exports&&b(exports||module.exports)}catch(c){b(a.linqjs={})}}(function(a){function b(a,b){if(a=Object(a),Object.hasOwnProperty("assign")&&"function"==typeof Object.assign)Object.assign(a,b);else for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a}function c(c){b(a,c)}function d(a,b){if(!a)throw new Error(b)}function e(a){d(h(a),"Parameter must be function!")}function f(a){d(g(a),"Parameter must be array!")}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"function"==typeof a}function i(a){return!isNaN(parseFloat(a))}function j(a){var b=arguments.length<=1||void 0===arguments[1]?function(a,b){return!0}:arguments[1],c=arguments.length<=2||void 0===arguments[2]?1/0:arguments[2];d(g(a),"arr must be array!"),e(b),d(i(c),"stopAfter must be numeric!");for(var f=[],h=a.length,j=0;j<h&&!(b(a[j],j)&&(f.push(a[j]),f.length>=c));j++);return f}function k(a){var b=arguments.length<=1||void 0===arguments[1]?function(a,b){return a===b}:arguments[1];d(g(a),"arr must be array!"),e(b);var c=[],f=a.length;a:for(var h=0;h<f;h++){for(var i=a[h],j=0;j<c.length;j++)if(b(i,c[j]))continue a;c.push(i)}return c}function l(){b(Array.prototype,a)}function m(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0];return e(a),Math.min.apply(null,this.map(a))}function n(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return a}:arguments[0];return e(a),Math.max.apply(null,this.map(a))}function o(){var a=this.reduce(function(a,b){return a+b});return a/this.length}function p(a){return d(g(a),"second must be an array!"),Array.prototype.concat.apply(this,a)}function q(a){var b=arguments.length<=1||void 0===arguments[1]?function(a,b){return a===b}:arguments[1];return k(this.Concat(a),b)}function r(){var a=arguments.length<=0||void 0===arguments[0]?function(a,b){return!0}:arguments[0];return e(a),j(this,a)}function s(a){return!!~this.indexOf(a)}function t(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];e(a);var b=j(this,a,1);return b[0]?b[0]:null}function u(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];return e(a),this.reverse().First(a)}function v(){var a=arguments.length<=0||void 0===arguments[0]?function(a){return!0}:arguments[0];e(a);var b=j(this,a);if(1===b.length)return b[0];throw new Error("Sequence contains more than one element")}function w(a){return[].concat(_toConsumableArray(a))}function x(){return this.OrderBy(F)}function y(){return this.sort(F)}function z(a){e(a);var b=new G(this,a);return w(b)}function A(){return this.OrderByDescending(F)}function B(a){e(a);var b=new H(this,a);return w(b)}function C(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a))+a}function D(){return(new Date).getTime()}function E(){for(var a=0,b=0,c=0,d=1;d<=100;d++){for(var e=[],f=C(10,1e3*d),g=C(1,10),h=0;h<f;h++)e.push(C(-1e6,1e6));var i=e,j=e.slice(0);console.log("Test #"+d+" with "+f+" random elements, taking the first "+g+":");var k=D(),l=i.sort(F).slice(0,g),m=D(),n=m-k;console.log(" -> Array.sort() finished after "+n+" milliseconds");for(var o=D(),p=new G(j,F),q=p[Symbol.iterator](),r=[],s=0;s<g;s++)r.push(q.next().value);var t=D(),u=t-o;u>n?console.warn(" -> Heap finished after "+u+" milliseconds and took "+(u-n)+" milliseconds longer"):console.log(" -> Heap finished after "+u+" milliseconds");for(var v=!0,w=0;w<f;w++)if(l[w]!==r[w]){v=!1;break}v?console.log(" -> Finished successfully."):console.error(" -> Finished with different results!",l,r),n<u?a++:u<n?b++:c++}var x=a+b+c;console.log("Array.sort() was faster: "+a+"/"+x),console.log("Heap         was faster: "+b+"/"+x),console.log("Both where equally fast: "+c+"/"+x)}var F=function(a,b){return a<b?-1:b<a?1:0},G=function(){function a(a){var b=arguments.length<=1||void 0===arguments[1]?F:arguments[1];f(a),e(b),this.comparator=b,this.elements=a,this.elements.unshift(null),c(this.elements,this.comparator)}function b(a,c,d){var e=2*d,f=2*d+1,g=d;if(e<=a.length&&c(a[e],a[g])<0&&(g=e),f<=a.length&&c(a[f],a[g])<0&&(g=f),g!==d){var h=a[d];a[d]=a[g],a[g]=h,b(a,c,g)}}function c(a,c){for(var d=Math.floor(a.length/2);d>0;d--)b(a,c,d)}return a.prototype.hasTopElement=function(){return this.elements.length>1},a.prototype.getTopElement=function(){var a=this.elements[1];return this.elements[1]=this.elements.pop(),this.elements.length>3&&b(this.elements,this.comparator,1),a},a.prototype[Symbol.iterator]=function(){var a=this;return{next:function(){return a.hasTopElement()?{done:!1,value:a.getTopElement()}:{done:!0}}}},a}(),H=function(){function a(a){var b=arguments.length<=1||void 0===arguments[1]?F:arguments[1];f(a),e(b),G.apply(this,[a,function(a,c){return-1*b(a,c)}])}return a.prototype=Object.create(G.prototype),a.prototype.constructor=a,a}();c({install:l,Min:m,Max:n,Average:o,Concat:p,Union:q,Where:r,Contains:s,First:t,Last:u,Single:v,Order:x,OrderCompare:y,OrderBy:z,OrderDescending:A,OrderByDescending:B,HeapSpeedTest:E})})}();